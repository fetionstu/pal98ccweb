{"version":3,"sources":["../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/hotelRoom2.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/Controller.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/ShowTalk.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/EnemyControl.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/dialtype.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/hotelRoom3.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/GlobalFunc.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/village/villageWeapns.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/sellitemtype.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/village/villageMarket.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/Seller.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/MainMenu.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/myRoom.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/IsXian/IsXianValley.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/startMenu.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/hotelStore.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/IsXian/IsXianWharf.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/village/villageDrugs.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/hotelRoom1.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/hotelKitchen.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/NpcControl.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/GameProgress.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/preGame.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/hotel/hotel.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/village/village.ts","../../file:/C:/Users/ph/Desktop/mycode/game/pal98cc/assets/scripts/battlefield.ts"],"names":["_dec","_dec2","_class","_class2","_descriptor","_RF","push","undefined","ccclass","_decorator","property","Prefab","_applyDecoratedDescriptor","_Component","hotelRoom2","_this","_len","arguments","length","args","Array","_key","call","apply","this","concat","_defineProperty","_assertThisInitialized","_initializerDefineProperty","_inheritsLoose","_proto","prototype","onLoad","console","log","GlobalFunc","ongoing","progress","readLocal","hero","node","getChildByName","map","layoutGameProgress","setEntryPos","sceneTalks","dialBox","instantiate","dialogueBox","addChild","active","name","talksCount","start","on","Button","EventType","CLICK","onNextSpeak","entry","getChildByPath","getComponent","Collider2D","Contact2DType","BEGIN_CONTACT","onEntry","_this2","interactable","schedule","changeSp","Animation","play","msg","ShowTalk","haveTalks","scheduleOnce","_this3","nextSceneEntryPos","setPosition","position","x","y","selfCollider","otherCollider","contact","whichEntry","director","getScene","update","deltaTime","searchRes","Controller","onGetSearchRes","collider","Component","configurable","enumerable","writable","initializer","pop","PhysicsSystem2D","instance","ctrller","searchHand","Input","TOUCH_START","onWalkDown","TOUCH_END","onStop","onWalkLeft","onWalkUp","onWalkRight","onSearchSth","onLayoutCtrllerNHand","addComponent","Widget","target","find","isAlignLeft","isAlignBottom","left","bottom","isAlignRight","right","dirX","dirY","getPosition","p1","Vec2","p1w","getWorldPosition","UITransform","convertToWorldSpaceAR","Vec3","p2w","sth","phy","raycast","ERaycast2DType","Any","point","insthw","testPoint","forEach","element","group","tag","ctrllerState","Math","floor","animState","getState","isPlaying","stop","time","sample","onOpenMenu","onFlashHint","str","Label","string","deltaTimeCount","changedx","heroSpeed","changedy","parent","selfTalk","showOneByOne","msgs","pos","unscheduleAllCallbacks","showAvatar","shownText","i","shownAvatar","changeAvatar","resources","load","SpriteFrame","err","spriteFrame","Sprite","EnemyControl","enemyColli","PolygonCollider2D","onBattle","enemySensor","CircleCollider2D","onSeekHero","lastPos","lastScene","killedEnemies","indexOf","saveLocal","loadScene","heroInSight","onFollowHero","preHeroPos","ratiox","ratioy","ratio","enemySpeed","clone","abs","seekDistance","onSeekDistance","disx","disy","sqrt","hotelRoom3","entrypos","TiledMap","getObjectGroup","getObjects","getStorageTalks","_temp","newGame","GameProgress","bagItems","_newGame","pro","saveGame","num","nextSaveIndex","savedCount","sys","isNative","data","JSON","stringify","writablePath","jsb","fileUtils","getWritablePath","writeStringToFile","json","localStorage","setItem","getItem","loadGame","rawData","isFileExist","getStringFromFile","changeBGM","currBGM","AudioSource","saveSellItems","res","error","message","jsonData","jsonstr","getStorageSellItems","parse","_jsonData","saveMagics","getStorageMagics","_jsonData2","savetoStorage","sceneName","_jsonData3","whos","url","heroName","nxtEntryNum","outSceneName","inSceneName","bgmName","bgmPlayer","clip","playing","pause","AudioClip","bgmFlag","setBGM","choice","setSound","getGameSaves","villageWeapns","offset","onSellBoxExit","Seller","initLayout","currItemsIndex","villageMarket","onNextSpeak1","entry0","onEntry0","entry3","onEntry3","setout","once","NpcControl","getMoveTo","_this4","tween","by","onStart","onComplete","index","selected","currItems","jsonitems","Object","assign","items","changePic","picurl","String","getBagItem","layoutItems","removeAllChildren","_loop","prefab","newNode","price","selectedItem","onButtonYes","coins","addToBagItems","children","color","Color","setTouchable","onButtonNo","setUntouchable","button","getSiblingIndex","hasBagItem","MainMenu","onMenuOpen","onShowMagics","onShowItems","onShowSystem","onShowProgrss","onShowChoice","onChoiceConfirmed","onChoiceCancelled","onManageGameSaves","jsonmagics","magics","game","end","Number","onMenuExit","closeOtherWindows","initMagicItems","layoutMagics","herostate","herocurrstate","currMagics","smp","introduce","selectedMagic","WHITE","_loop2","_dec3","_descriptor2","JsonAsset","myRoom","myRoomTalks","itemGiftJson","onChangeSp","setContentSize","entry1","onEntry1","getMoveBy","preloadScene","sp","IsXianValley","lastposx","lastposy","_array","isValid","startMenu","addPersistRootNode","VideoPlayer","READY_TO_PLAY","onPlayVideo","COMPLETED","onSkip","onLoadNextScene","destroy","onLoadGame","onNewGame","hotelStore","jumpflag","IsXianWharf","villageDrugs","hotelRoom1","hotelKitchen","_descriptor3","npcMoveBy","onStopAnim","npcMoveTo","to","onPlayAnim","itemIndex","mapitems","Map","has","set","get","from","_createClass","key","_progress","value","_nextSceneEntryPos","_coins","preGame","onStatement","hotel","entry2","entry4","entry5","entry6","onEntry2","onEntry4","onEntry5","onEntry6","village","onXiang","talktoXiang","talktoXiu","battlefield","winBattle","initData","loseGame"],"mappings":"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","file":"all.js","sourcesContent":["import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"005d4SK7ChPYKqqaZOrgOQ8\", \"hotelRoom2\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate, Collider2D, director, Contact2DType, Button, Animation } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = hotelRoom2\n * DateTime = Sat May 07 2022 00:48:23 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = hotelRoom2.ts\n * FileBasenameNoExtension = hotelRoom2\n * URL = db://assets/scripts/hotelRoom2.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var hotelRoom2 = (_dec = ccclass('hotelRoom2'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(hotelRoom2, _Component);\n\n  function hotelRoom2() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _defineProperty(_assertThisInitialized(_this), \"sceneTalks\", []);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = hotelRoom2.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(6, 0);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"hotel\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"maphotelRoom2\");\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    console.log(\"hotel所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry = this.node.getChildByPath(\"maphotelRoom2/entry\").getComponent(Collider2D);\n\n    if (entry) {\n      entry.on(Contact2DType.BEGIN_CONTACT, this.onEntry, this);\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < 26) {\n      if (this.talksCount == 20) {\n        this.schedule(function () {\n          GlobalFunc.changeSp(_this2.hero, \"introdish\");\n        }, 0.1);\n        this.node.getChildByPath(\"maphotelRoom2/dish\").active = true;\n      }\n\n      if (this.talksCount == 25) {\n        this.hero.getComponent(Animation).play(\"takewine\");\n        this.schedule(function () {\n          GlobalFunc.changeSp(_this2.node.getChildByPath(\"maphotelRoom2/dish\"), \"dish2\");\n        }, 0.1);\n        GlobalFunc.ongoing.progress++;\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    var _this3 = this;\n\n    if (GlobalFunc.ongoing.progress > 2 && GlobalFunc.ongoing.progress < 10) {\n      if (GlobalFunc.ongoing.progress == 5) {\n        this.talksCount = 19;\n      }\n\n      this.node.getChildByName(\"miao1\").active = true;\n      this.node.getChildByName(\"miao2\").active = true;\n      this.schedule(function () {\n        GlobalFunc.changeSp(_this3.node.getChildByName(\"miao1\"), \"miao1sl\");\n        GlobalFunc.changeSp(_this3.node.getChildByName(\"miao2\"), \"miao2sd\");\n      }, 0.1);\n    } else {}\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n      this.map.setPosition(411, 174, 0);\n\n      if (this.node.getChildByName(\"miao1\").active) {\n        this.node.getChildByName(\"miao1\").setPosition(this.node.getChildByName(\"miao1\").position.x + this.map.position.x, this.node.getChildByName(\"miao1\").position.y + this.map.position.y);\n      }\n\n      if (this.node.getChildByName(\"miao2\").active) {\n        this.node.getChildByName(\"miao2\").setPosition(this.node.getChildByName(\"miao2\").position.x + this.map.position.x, this.node.getChildByName(\"miao2\").position.y + this.map.position.y);\n      }\n    }\n  };\n\n  _proto.onEntry = function onEntry(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 5, director.getScene().name, \"hotel\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if ((this.searchRes[0].collider.node.name == \"miao1\" || this.searchRes[0].collider.node.name == \"miao2\") && GlobalFunc.ongoing.progress == 5) {\n        this.hero.getChildByName(\"dialogueBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n        ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      //     if (this.searchRes[1].node.name == \"dish\") {\n      //         this.node.getChildByPath(\"maphotelRoom2/dish\").active = false;\n      //     }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return hotelRoom2;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"023a030GlhG76642FJpRE2A\", \"Controller\", undefined);\n\nimport { _decorator, Component, Button, find, Widget, UITransform, Animation, Input, Vec2, Vec3, PhysicsSystem2D, ERaycast2DType, Label } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = Controller\n * DateTime = Sat Apr 30 2022 23:21:47 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = Controller.ts\n * FileBasenameNoExtension = Controller\n * URL = db://assets/scripts/Controller.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var Controller = (_dec = ccclass('Controller'), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Controller, _Component);\n\n  function Controller() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"ctrller\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"searchHand\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"phy\", PhysicsSystem2D.instance);\n\n    _defineProperty(_assertThisInitialized(_this), \"deltaTimeCount\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"ctrllerState\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"dirX\", -1);\n\n    _defineProperty(_assertThisInitialized(_this), \"dirY\", -1);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"heroSpeed\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = Controller.prototype;\n\n  // 改动，直接将ctrller加到hero节点下，隐藏。\n  // @property(Prefab)\n  // fabCtrller = null;\n  _proto.start = function start() {\n    // [3]\n    // this.phy=PhysicsSystem2D;\n    // 方向盘\n    // this.node.addChild(instantiate(this.fabCtrller));\n    this.ctrller = this.node.getChildByName(\"ctrller\");\n    console.log(this.ctrller.name + \"挂载成功\"); // 搜索键\n\n    this.searchHand = this.node.getChildByName(\"hand\");\n    console.log(this.searchHand.name + \"挂载成功\"); // 做到后面不知怎么出bug，位置变了，找不到原因，直接固定位置吧，有需要再调用\n    // this.onLayoutCtrllerNHand();\n    // 相机跟随，直接代码挂载好像有bug\n    // let w_pos = this.node.getComponent(UITransform).convertToWorldSpaceAR(new Vec3(0,0));\n    // let c_pos = find(\"Canvas\").getComponent(UITransform).convertToNodeSpaceAR(w_pos);\n    // let out=null;\n    // let w_pos=find(\"Canvas/Camera\").getComponent(Camera).screenToWorld(this.node.getPosition());\n    // find(\"Canvas/Camera\").position.set(this.node.position);\n\n    this.ctrller.getChildByName(\"ctrllerD\").on(Input.EventType.TOUCH_START, this.onWalkDown, this);\n    this.ctrller.getChildByName(\"ctrllerD\").on(Input.EventType.TOUCH_END, this.onStop, this);\n    this.ctrller.getChildByName(\"ctrllerL\").on(Input.EventType.TOUCH_START, this.onWalkLeft, this);\n    this.ctrller.getChildByName(\"ctrllerL\").on(Input.EventType.TOUCH_END, this.onStop, this);\n    this.ctrller.getChildByName(\"ctrllerU\").on(Input.EventType.TOUCH_START, this.onWalkUp, this);\n    this.ctrller.getChildByName(\"ctrllerU\").on(Input.EventType.TOUCH_END, this.onStop, this);\n    this.ctrller.getChildByName(\"ctrllerR\").on(Input.EventType.TOUCH_START, this.onWalkRight, this);\n    this.ctrller.getChildByName(\"ctrllerR\").on(Input.EventType.TOUCH_END, this.onStop, this);\n    this.searchHand.on(Button.EventType.CLICK, this.onSearchSth, this); // this.node.getChildByName(\"mainMenu\").on(Button.EventType.CLICK, this.onOpenMenu, this);\n  } // onSetActive(){\n  //     this.ctrller.active=true;\n  //     this.searchHand.active=true;\n  // }\n  // onSetInactive(){\n  //     this.ctrller.active=false;\n  //     this.searchHand.active=false;\n  // }\n  ;\n\n  _proto.onLayoutCtrllerNHand = function onLayoutCtrllerNHand() {\n    // 设置方向盘位置\n    // ctrller.setPosition(0, 0);\n    // ctrller.setScale(0.3, 0.3);\n    this.ctrller.addComponent(Widget).target = find(\"Canvas\");\n    this.ctrller.getComponent(Widget).isAlignLeft = true;\n    this.ctrller.getComponent(Widget).isAlignBottom = true;\n    this.ctrller.getComponent(Widget).left = 80;\n    this.ctrller.getComponent(Widget).bottom = 30; // console.log(\"摇杆等模块对齐到\" + find(\"Canvas\").name);\n    // 设置搜索键位置\n\n    this.searchHand.addComponent(Widget).target = find(\"Canvas\");\n    this.searchHand.getComponent(Widget).isAlignRight = true;\n    this.searchHand.getComponent(Widget).isAlignBottom = true;\n    this.searchHand.getComponent(Widget).right = 80;\n    this.searchHand.getComponent(Widget).bottom = 50;\n    console.log(\"摇杆等模块已对齐到\" + find(\"Canvas\").name);\n  };\n\n  _proto.onSearchSth = function onSearchSth() {\n    var _this2 = this;\n\n    this.searchHand.getComponent(Button).interactable = false;\n    console.log(\"正在搜索(\" + this.dirX + \",\" + this.dirY + \")方向\"); // 是将距该节点本地坐标多x,多y,的点转换成世界坐标\n    // this.node.getComponent(UITransform).convertToWorldSpaceAR()\n    // 获取该节点的世界坐标\n    // this.node.getWorldPosition();\n    // -20为定位到碰撞体坐标，anchor改了就不要减了\n    // hp1->heroPos， p1->刚体pos  p2->射线终点pos\n\n    var hp1 = this.node.getPosition();\n    var p1 = new Vec2(this.node.position.x, this.node.position.y - 20); // console.log(\"英雄本地坐标：\" + hp1 + \"碰撞体本地坐标：\" + p1);\n\n    var hp1w = this.node.getWorldPosition(); // let p1g = new Vec3(hp1w.x,hp1w.y-70);// 世界：本地==7：2\n\n    var p1w = this.node.getComponent(UITransform).convertToWorldSpaceAR(new Vec3(0, -20, 0)); // console.log(\"英雄世界坐标\" + hp1w + \"碰撞体世界坐标：\" + p1w);\n\n    var p2 = new Vec2(p1.x + this.dirX * 64, p1.y + this.dirY * 32); // let p2wg = this.node.getComponent(UITransform).convertToWorldSpaceAR(new Vec3(this.dirX * 320, this.dirY * 160));\n\n    var p2w = new Vec3(p1w.x + this.dirX * 64, p1w.y + this.dirY * 32, 0); // console.log(\"射线终点本地：\" + p2 + \"世界：\" + p2w);\n\n    var sth = this.phy.raycast(p1w, p2w, ERaycast2DType.Any); // 射线检测不到对象是因为当初hero的位置anchor在图片中心，不在碰撞体中心!!!!!!\n    // 惨！！！！！\n\n    console.log(\"发出一条射线，得到\" + sth.length + \"个物体！\");\n\n    if (sth.length) {\n      this.searchRes[0] = sth[0];\n      console.log(\"搜索到：\" + sth[0].collider.node.name);\n      console.log(\"射线交点：\" + sth[0].point);\n    } else {\n      console.log(\"没搜索到物体！\");\n    } // 这个用本地和世界坐标都行。\n    // 经测试，本地坐标在一些边界会出错\n    // let insth = this.phy.testPoint(p1);\n\n\n    var insthw = this.phy.testPoint(new Vec2(p1w.x, p1w.y));\n    var insthRest = null;\n    insthw.forEach(function (element) {\n      if (element.node != _this2.node) {\n        _this2.searchRes[1] = element; // console.log(\"p1w==>\" + element.node.name);\n\n        console.log(\"在\" + element.node.name + \"中\");\n        console.log(\"group：\" + element.group + \"-->tag：\" + element.tag);\n      } else if (insthw.length == 1 && element.node == _this2.node) {\n        console.log(\"没在任何物体范围内\");\n      }\n    }); // console.log(this.searchRes);\n\n    console.log(this.searchRes[0] + \"?=有东西吗=?\" + this.searchRes[1]); // console.log(\"设置搜索1秒内不交互 结束\");\n\n    this.scheduleOnce(function () {\n      _this2.searchHand.getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.onGetSearchRes = function onGetSearchRes() {\n    return this.searchRes;\n  };\n\n  _proto.onWalkDown = function onWalkDown() {\n    console.log(\"向下走\");\n    this.ctrllerState = \"down\";\n    this.dirX = -1;\n    this.dirY = -1;\n    this.getComponent(Animation).play(\"downLXY\");\n  };\n\n  _proto.onStop = function onStop() {\n    console.log(\"停止走动\");\n    console.log(\"本地坐标->(\" + Math.floor(this.node.getPosition().x) + \",\" + Math.floor(this.node.getPosition().y) + \")\");\n    console.log(\"世界坐标->(\" + Math.floor(this.node.getWorldPosition().x) + \",\" + Math.floor(this.node.getWorldPosition().y) + \")\");\n    this.ctrllerState = '';\n    var animState = null;\n\n    if (this.getComponent(Animation).getState(\"downLXY\").isPlaying) {\n      animState = this.getComponent(Animation).getState(\"downLXY\");\n    } else if (this.getComponent(Animation).getState(\"leftLXY\").isPlaying) {\n      animState = this.getComponent(Animation).getState(\"leftLXY\");\n    } else if (this.getComponent(Animation).getState(\"upLXY\").isPlaying) {\n      animState = this.getComponent(Animation).getState(\"upLXY\");\n    } else if (this.getComponent(Animation).getState(\"rightLXY\").isPlaying) {\n      animState = this.getComponent(Animation).getState(\"rightLXY\");\n    } else {\n      console.log(this.getComponent(Animation).name + \" 将停止\");\n      this.getComponent(Animation).stop();\n      return;\n    }\n\n    console.log(animState.name + \" 将停止\"); // 停止后回到站立状态\n\n    animState.time = 2;\n    animState.sample();\n    animState.stop();\n  };\n\n  _proto.onWalkLeft = function onWalkLeft() {\n    console.log(\"向左走\");\n    this.ctrllerState = 'left';\n    this.dirX = -1;\n    this.dirY = 1;\n    this.getComponent(Animation).play(\"leftLXY\");\n  };\n\n  _proto.onWalkUp = function onWalkUp() {\n    console.log(\"向上走\");\n    this.ctrllerState = \"up\";\n    this.dirX = 1;\n    this.dirY = 1;\n    this.getComponent(Animation).play(\"upLXY\");\n  };\n\n  _proto.onWalkRight = function onWalkRight() {\n    console.log(\"向右走\");\n    this.ctrllerState = \"right\";\n    this.dirX = 1;\n    this.dirY = -1;\n    this.getComponent(Animation).play(\"rightLXY\");\n  };\n\n  _proto.onOpenMenu = function onOpenMenu() {\n    this.node.getChildByName(\"lcmoney\").active = true;\n    this.node.getChildByName(\"settings\").active = true;\n    this.node.getChildByName(\"exit\").active = true;\n    this.ctrller.active = false;\n    this.searchHand.active = false;\n  };\n\n  _proto.onFlashHint = function onFlashHint(str) {\n    var _this3 = this;\n\n    // this.node.getChildByName(\"hint\").getComponent(Label).string = \"\";\n    this.node.getChildByName(\"hint\").getComponent(Label).string = str;\n    this.node.getChildByName(\"hint\").active = true;\n    this.schedule(function () {\n      _this3.node.getChildByName(\"hint\").active = false;\n    }, 1);\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    // 相似度模拟调整\n    this.deltaTimeCount += Math.floor(deltaTime * 100); // 移动改变位置\n    // if (this.ctrllerState && this.deltaTimeCount % 5 == 0) {\n\n    if (this.ctrllerState) {\n      var changedx = this.node.getPosition().x += 8 * this.dirX * this.heroSpeed;\n      var changedy = this.node.getPosition().y += 4 * this.dirY * this.heroSpeed; // 设置太多会卡墙、穿墙\n      // let changedx = this.node.getPosition().x += 48 * this.dirX * this.heroSpeed;\n      // let changedy = this.node.getPosition().y += 24 * this.dirY * this.heroSpeed;\n      // this.node.getPosition().z=0;\n      // this.node.setPosition(new Vec3(Math.floor(changedx), Math.floor(changedy)));\n\n      this.node.setPosition(new Vec3(changedx, changedy)); // console.log(this.ctrllerState + \"->(\" + this.node.getPosition().x + \",\" + this.node.getPosition().y + \")\");\n    } // 相机跟随\n\n\n    if (this.node.parent.getChildByName(\"Camera\") != null) {\n      this.node.parent.getChildByName(\"Camera\").setPosition(this.node.position.x, this.node.position.y, 1000);\n    }\n  } // onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) {\n  //     // 只在两个碰撞体开始接触时被调用一次\n  //     console.log('onBeginContact');\n  //     console.log(selfCollider.node.name + \"===\" + otherCollider.node.name + \"-----\" + contact);\n  // }\n  // onEndContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) {\n  //     // 只在两个碰撞体结束接触时被调用一次\n  //     console.log('onEndContact');\n  //     console.log(selfCollider.node.name + \"===\" + otherCollider.node.name + \"-----\" + contact.getManifold().points[0].localPoint);\n  // }\n  ;\n\n  return Controller;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"heroSpeed\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","var _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"0a0f7/ePaJH4qLcUkXfAWk2\", \"ShowTalk\", undefined);\n\nimport { _decorator, Label, resources, Sprite, SpriteFrame } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = ShowTalk\n * DateTime = Thu Apr 28 2022 21:16:18 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = ShowTalk.ts\n * FileBasenameNoExtension = ShowTalk\n * URL = db://assets/scripts/ShowTalk.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var ShowTalk = (_dec = ccclass('ShowTalk'), _dec(_class = /*#__PURE__*/function () {\n  function ShowTalk() {}\n\n  // [1]\n  // dummy = '';\n  // 弃用\n  // static mainTalkCount = new Map();\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  // update (deltaTime: number) {\n  //     // [4]\n  // }\n  // 弃用，改由GlobalFunc.ongoing统一管理GameProgress游戏数据\n  // static setTalkCount() {\n  //     ShowTalk.mainTalkCount.set(\"myRoom\", 0);\n  // }\n  ShowTalk.selfTalk = function selfTalk(dialBox, msg) {\n    this.showOneByOne(dialBox.getChildByPath(\"downBox/downSpeak\").getComponent(Label), msg);\n  };\n\n  ShowTalk.haveTalks = function haveTalks(dialBox, msgs) {\n    if (msgs.pos == 1) {\n      // 对话内容，新内容到了，要清空之前的\n      dialBox.getChildByPath(\"upBox/upSpeak\").getComponent(Label).unscheduleAllCallbacks();\n      dialBox.getChildByName(\"downBox\").active = false;\n      dialBox.getChildByName(\"upBox\").active = true;\n\n      if (dialBox.getChildByPath(\"upBox/upName\").getComponent(Label).string != msgs.name + ':') {\n        this.showAvatar(dialBox.getChildByPath(\"upBox/upAvatar\"), msgs.name);\n        dialBox.getChildByPath(\"upBox/upName\").getComponent(Label).string = msgs.name + ':';\n      }\n\n      this.showOneByOne(dialBox.getChildByPath(\"upBox/upSpeak\").getComponent(Label), msgs.msg);\n    } else {\n      // 对话内容，新内容到了，要清空之前的\n      dialBox.getChildByPath(\"downBox/downSpeak\").getComponent(Label).unscheduleAllCallbacks();\n      dialBox.getChildByName(\"upBox\").active = false;\n      dialBox.getChildByName(\"downBox\").active = true;\n\n      if (dialBox.getChildByPath(\"downBox/downName\").getComponent(Label).string != msgs.name + ':') {\n        this.showAvatar(dialBox.getChildByPath(\"downBox/downAvatar\"), msgs.name);\n        dialBox.getChildByPath(\"downBox/downName\").getComponent(Label).string = msgs.name + ':';\n      }\n\n      this.showOneByOne(dialBox.getChildByPath(\"downBox/downSpeak\").getComponent(Label), msgs.msg);\n    }\n  };\n\n  ShowTalk.showOneByOne = function showOneByOne(shownText, msg) {\n    var i = 0;\n    shownText.string = \"\"; // 逐字显示\n\n    shownText.schedule(function () {\n      shownText.string += msg[i];\n      i++;\n    }, 0.02, msg.length - 1, 0.2);\n  };\n\n  ShowTalk.showAvatar = function showAvatar(shownAvatar, name) {\n    if (name == \"李大娘\") {\n      this.changeAvatar(shownAvatar, \"LiDaniang\");\n    } else if (name == \"李逍遥\") {\n      this.changeAvatar(shownAvatar, \"LiXiaoyao\");\n    } else if (name == \"苗人头领\") {\n      this.changeAvatar(shownAvatar, \"MiaoChief\");\n    } else if (name == \"醉道士\") {\n      this.changeAvatar(shownAvatar, \"Tao\");\n    } else if (name == \"秀兰\") {\n      this.changeAvatar(shownAvatar, \"Xiu\");\n    } else if (name == \"香兰\") {\n      this.changeAvatar(shownAvatar, \"Xiang\");\n    } else if (name == \"张四\") {\n      this.changeAvatar(shownAvatar, \"ZhangSi\");\n    } else if (name == \"王小虎\") {\n      this.changeAvatar(shownAvatar, \"WangXiaohu\");\n    } else {\n      this.changeAvatar(shownAvatar, \"\");\n    }\n  };\n\n  ShowTalk.changeAvatar = function changeAvatar(shownAvatar, name) {\n    if (name != \"\") {\n      resources.load(\"talkAvatar/\" + name + \"/spriteFrame\", SpriteFrame, function (err, spriteFrame) {\n        shownAvatar.getComponent(Sprite).spriteFrame = spriteFrame;\n      });\n    } else {\n      shownAvatar.getComponent(Sprite).spriteFrame = null;\n    }\n  };\n\n  return ShowTalk;\n}()) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"0b221+Uqu9L7K2/ubsAcv/B\", \"EnemyControl\", undefined);\n\nimport { _decorator, Component, Contact2DType, PolygonCollider2D, CircleCollider2D, director } from 'cc';\nimport { GlobalFunc } from './GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = EnemyControl\n * DateTime = Sun May 22 2022 15:58:54 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = EnemyControl.ts\n * FileBasenameNoExtension = EnemyControl\n * URL = db://assets/scripts/EnemyControl.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var EnemyControl = (_dec = ccclass('EnemyControl'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(EnemyControl, _Component);\n\n  function EnemyControl() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"dirX\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dirY\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"ratio\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"ratiox\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"ratioy\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemySpeed\", 1.5);\n\n    _defineProperty(_assertThisInitialized(_this), \"heroInSight\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"seekDistance\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"preHeroPos\", null);\n\n    return _this;\n  }\n\n  var _proto = EnemyControl.prototype;\n\n  // phy = PhysicsSystem2D.instance;\n  // p1w: Vec3 = null;\n  // heroStillInSight = false;\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.start = function start() {\n    // [3]\n    this.hero = this.node.parent.parent.getChildByName(\"heroLXY\");\n    var enemyColli = this.node.getComponent(PolygonCollider2D);\n\n    if (enemyColli) {\n      enemyColli.on(Contact2DType.BEGIN_CONTACT, this.onBattle, this);\n    }\n\n    var enemySensor = this.node.getComponent(CircleCollider2D);\n\n    if (enemySensor) {\n      enemySensor.on(Contact2DType.BEGIN_CONTACT, this.onSeekHero, this);\n    }\n  };\n\n  _proto.onBattle = function onBattle(selfCollider, otherCollider, contact) {\n    if (otherCollider.node == this.hero) {\n      console.log(\"碰到敌人，开始战斗！\"); // api调用时间影响，不能直接赋值pos\n      // GlobalFunc.ongoing.lastPos.x = this.hero.position.x;\n      // GlobalFunc.ongoing.lastPos.y = this.hero.position.y;\n\n      GlobalFunc.ongoing.lastPos = this.hero.position;\n      console.log(GlobalFunc.ongoing.lastPos);\n      GlobalFunc.ongoing.lastScene = director.getScene().name;\n\n      if (GlobalFunc.ongoing.killedEnemies.indexOf(selfCollider.node.name) == -1) {\n        GlobalFunc.ongoing.killedEnemies.push(selfCollider.node.name);\n      }\n\n      GlobalFunc.ongoing.saveLocal();\n      director.loadScene(\"battlefield\");\n    }\n  };\n\n  _proto.onSeekHero = function onSeekHero(selfCollider, otherCollider, contact) {\n    if (otherCollider.node == this.hero) {\n      this.heroInSight = true;\n      console.log(selfCollider.node.name + \"发现hero\");\n    }\n  } // onSeekHero1111() {// 废弃方案\n  //     // 刚体坐标\n  //     this.p1w = this.hero.getComponent(UITransform).convertToWorldSpaceAR(new Vec3(0, -20, 0));\n  //     let heroInSight = false;\n  //     let seekHero = this.phy.testPoint(new Vec2(this.p1w.x, this.p1w.y));\n  //     seekHero.forEach(element => {\n  //         if (element.node != this.hero) {\n  //             if (!this.heroStillInSight) {\n  //                 heroInSight = true;\n  //                 console.log(\"hero进入\" + this.node.name + \"视野中\");\n  //                 this.heroStillInSight = true;\n  //             } else {\n  //                 // console.log(\"hero未离开\" + this.node.name + \"视野\");\n  //             }\n  //             this.onFollowHero();\n  //             // this.preHeroPos = this.node.position;\n  //             // console.log(\"group：\" + element.group + \"-->tag：\" + element.tag)\n  //         } else if (seekHero.length == 1 && element.node == this.hero) {\n  //             if (this.heroStillInSight) {\n  //                 console.log(\"hero已离开\" + this.node.name + \"视野\");\n  //                 this.heroStillInSight = false;\n  //             } else {\n  //                 // console.log(\"hero未进入\" + this.node.name + \"视野\");\n  //             }\n  //             heroInSight = false;\n  //             // return false;\n  //         }\n  //     });\n  //     console.log(seekHero.length);\n  //     console.log(seekHero);\n  // }\n  ;\n\n  _proto.onFollowHero = function onFollowHero() {\n    if (this.preHeroPos == null || this.preHeroPos.x != this.hero.position.x || this.preHeroPos.y != this.hero.position.y) {\n      console.log(\"调整移动方向\");\n      this.ratiox = this.hero.position.x - this.node.position.x;\n      this.ratioy = this.hero.position.y - 70 - this.node.position.y;\n      this.ratio = this.enemySpeed / 100; // 克隆数值\n\n      this.preHeroPos = this.hero.position.clone();\n    }\n\n    if (this.hero.position.x - this.node.position.x > 0) {\n      this.dirX = 1;\n    } else {\n      this.dirX = -1;\n    }\n\n    if (this.hero.position.y - 70 - this.node.position.y > 0) {\n      this.dirY = 1;\n    } else {\n      this.dirY = -1;\n    }\n\n    this.node.setPosition(this.node.position.x + Math.abs(this.ratiox) * this.dirX * this.ratio, this.node.position.y + Math.abs(this.ratioy) * this.dirY * this.ratio);\n    this.seekDistance = this.onSeekDistance();\n  };\n\n  _proto.onSeekDistance = function onSeekDistance() {\n    var disx = this.hero.position.x - this.node.position.x;\n    var disy = this.hero.position.y - 70 - this.node.position.y;\n    return Math.sqrt(disx * disx + disy * disy);\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    if (this.heroInSight) {\n      this.onFollowHero(); // console.log(this.seekDistance);\n\n      if (this.seekDistance > 104 * 3.5) {\n        // 碰撞体自身100+英雄4 * scale3.5\n        this.heroInSight = false;\n      }\n    }\n  };\n\n  return EnemyControl;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"1b80dnalupMGp/V4pbn8JZI\", \"dialtype\", undefined);\n\nimport { _decorator } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = dialtype\n * DateTime = Thu Apr 28 2022 23:54:36 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = dialtype.ts\n * FileBasenameNoExtension = dialtype\n * URL = db://assets/scripts/dialtype.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n// 自定义对话数据类型\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"20b03eV+rhMNIRTSzcGZQ4A\", \"hotelRoom3\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate, Collider2D, director, Contact2DType, Button, TiledMap } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = hotelRoom3\n * DateTime = Fri May 13 2022 23:37:15 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = hotelRoom3.ts\n * FileBasenameNoExtension = hotelRoom3\n * URL = db://assets/scripts/hotel/hotelRoom3.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var hotelRoom3 = (_dec = ccclass('hotelRoom3'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(hotelRoom3, _Component);\n\n  function hotelRoom3() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = hotelRoom3.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(13, 0);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    }\n\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    GlobalFunc.getStorageTalks(\"hotelRoom3\");\n    console.log(director.getScene().name + \"所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry = this.node.getChildByPath(\"map/entry\").getComponent(Collider2D);\n\n    if (entry) {\n      entry.on(Contact2DType.BEGIN_CONTACT, this.onEntry, this);\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < GlobalFunc.sceneTalks.length) {\n      if (this.talksCount == 7) {\n        this.node.getChildByName(\"npcDoctor\").active = false;\n      }\n\n      if (this.talksCount == 16) {\n        GlobalFunc.ongoing.progress++;\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    if (GlobalFunc.ongoing.progress >= 13) {\n      this.node.getChildByName(\"npcDoctor\").active = true;\n      this.node.getChildByName(\"npcChild\").active = true;\n      this.node.getChildByName(\"illedldn\").active = true;\n      this.talksCount = 0;\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n    // 新方法，软件导入进来的坐标没给x轴做处理，需要-1040（不知道是什么长度，估计是图片宽度（创建tmx文件默认的宽度）。        \n\n    this.hero.setPosition(this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1080, this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].y - 140, 0);\n  };\n\n  _proto.onEntry = function onEntry(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 2, director.getScene().name, \"hotel\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (GlobalFunc.ongoing.progress == 13 && (this.searchRes[0].collider.node.name == \"npcDoctor\" || this.searchRes[0].collider.node.name == \"npcChild\")) {\n        this.hero.getChildByName(\"dialogueBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n        ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      // this.node.getChildByPath(\"map/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return hotelRoom3;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"2d68bKx7SpCSKPvCQYdGSzf\", \"GlobalFunc\", undefined);\n\nimport { _decorator, Component, director, resources, error, sys, SpriteFrame, Sprite, AudioClip, AudioSource, find } from 'cc';\nimport { GameProgress } from './GameProgress';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = GlobalFunc\n * DateTime = Tue Apr 26 2022 00:35:55 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = GlobalFunc.ts\n * FileBasenameNoExtension = GlobalFunc\n * URL = db://assets/scripts/GlobalFunc.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var GlobalFunc = (_dec = ccclass('GlobalFunc'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(GlobalFunc, _Component);\n\n  function GlobalFunc() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  // [1]\n  // dummy = '';\n  GlobalFunc.newGame = function newGame() {\n    this.ongoing = new GameProgress();\n    console.log(this.ongoing.bagItems); // console.log(typeof this.ongoing.bagItems);\n\n    console.log(\"新建游戏进度：\" + this.ongoing.progress); // GlobalFunc.ongoing.saveLocal();\n\n    this.ongoing.saveLocal();\n  } // 调试用新建进度\n  ;\n\n  GlobalFunc._newGame = function _newGame(pro, pos) {\n    this.ongoing = new GameProgress(); // 调试用\n\n    this.ongoing.progress = pro;\n    this.ongoing.nextSceneEntryPos = pos;\n    console.log(\"新建游戏进度：\" + this.ongoing.progress); // GlobalFunc.ongoing.saveLocal();\n\n    this.ongoing.saveLocal();\n  };\n\n  GlobalFunc.saveGame = function saveGame(num, nextSaveIndex) {\n    this.ongoing.lastScene = find(\"Canvas\").parent.name;\n    this.ongoing.savedCount = nextSaveIndex;\n\n    if (sys.isNative) {\n      var data = JSON.stringify(this.ongoing);\n      var writablePath = jsb.fileUtils.getWritablePath();\n\n      if (jsb.fileUtils.writeStringToFile(data, writablePath + \"nativeGamesave\" + num + \".json\")) {\n        console.log(\"成功存档：nativeGamesave\" + num + \".json\");\n      } else {\n        console.log(\"未成功存档于native！\");\n      }\n    } else {\n      var json = JSON.stringify(this.ongoing);\n      sys.localStorage.setItem(\"gamesave\" + num, json);\n      console.log(\"已存入gamesave\" + num);\n      console.log(sys.localStorage.getItem(\"gamesave\" + num));\n    }\n  };\n\n  GlobalFunc.loadGame = function loadGame(num) {\n    var rawData = null;\n\n    if (sys.isNative) {\n      var writablePath = jsb.fileUtils.getWritablePath(); // if (jsb.fileUtils.isFileExist(\"nativeGamesave\" + num + \".json\")) {// 发现bug\n\n      if (jsb.fileUtils.isFileExist(writablePath + \"nativeGamesave\" + num + \".json\")) {\n        rawData = jsb.fileUtils.getStringFromFile(writablePath + \"nativeGamesave\" + num + \".json\");\n        console.log(\"native有文件\");\n      } else {\n        console.log(\"native没有文件\");\n      }\n    } else {\n      rawData = sys.localStorage.getItem(\"gamesave\" + num);\n    }\n\n    if (rawData != null || rawData != undefined) {\n      this.ongoing = new GameProgress();\n      sys.localStorage.setItem(\"ongoing\", rawData);\n      console.log(sys.localStorage.getItem(\"ongoing\"));\n      this.ongoing.readLocal();\n      console.log(this.ongoing);\n      console.log(\"成功载入存档gamesave\" + num);\n    } else {\n      console.log(\"未发现存档gamesave\" + num);\n    }\n\n    director.loadScene(this.ongoing.lastScene);\n    GlobalFunc.changeBGM(this.ongoing.currBGM, find(\"bgm\").getComponent(AudioSource));\n  };\n\n  GlobalFunc.saveSellItems = function saveSellItems() {\n    if (sys.isNative) {\n      resources.load(\"localData/sellitems\", function (err, res) {\n        if (err) {\n          error(err.message || err);\n          return;\n        } // 获取到 Json 数据\n\n\n        var jsonData = res.json;\n        var jsonstr = JSON.stringify(jsonData);\n        console.log(jsonstr);\n        var writablePath = jsb.fileUtils.getWritablePath();\n        console.log(\"可写入文件路径\" + writablePath);\n\n        if (jsb.fileUtils.writeStringToFile(jsonstr, writablePath + \"nativeSellItems.json\")) {\n          console.log(\"已将商品存入native\");\n        } else {\n          console.log(\"未将商品存入native\");\n        }\n      });\n    } else {\n      resources.load('localData/sellitems', function (err, res) {\n        if (err) {\n          error(err.message || err);\n          return;\n        } // 获取到 Json 数据\n\n\n        var jsonData = res.json;\n        var jsonstr = JSON.stringify(jsonData);\n        console.log(jsonstr);\n        sys.localStorage.setItem(\"sellItems\", jsonstr);\n        console.log(\"已将商品存入web\");\n      });\n    }\n  };\n\n  GlobalFunc.getStorageSellItems = function getStorageSellItems() {\n    if (sys.isNative) {\n      var writablePath = jsb.fileUtils.getWritablePath();\n      console.log(jsb.fileUtils.getStringFromFile(writablePath + \"nativeSellItems.json\"));\n      var jsonData = JSON.parse(jsb.fileUtils.getStringFromFile(writablePath + \"nativeSellItems.json\"));\n      console.log(\"已载入native中的商品\");\n      return jsonData;\n    } else {\n      var _jsonData = JSON.parse(sys.localStorage.getItem(\"sellItems\"));\n\n      console.log(\"已载入web中的商品\");\n      return _jsonData;\n    }\n  };\n\n  GlobalFunc.saveMagics = function saveMagics() {\n    if (sys.isNative) {\n      resources.load(\"localData/magics\", function (err, res) {\n        if (err) {\n          error(err.message || err);\n          return;\n        } // 获取到 Json 数据\n\n\n        var jsonData = res.json;\n        var jsonstr = JSON.stringify(jsonData);\n        console.log(jsonstr);\n        var writablePath = jsb.fileUtils.getWritablePath();\n        console.log(\"可写入文件路径\" + writablePath);\n\n        if (jsb.fileUtils.writeStringToFile(jsonstr, writablePath + \"nativeMagics.json\")) {\n          console.log(\"已将仙术存入native\");\n        } else {\n          console.log(\"未将仙术存入native\");\n        }\n      });\n    } else {\n      resources.load('localData/magics', function (err, res) {\n        if (err) {\n          error(err.message || err);\n          return;\n        } // 获取到 Json 数据\n\n\n        var jsonData = res.json;\n        var jsonstr = JSON.stringify(jsonData);\n        console.log(jsonstr);\n        sys.localStorage.setItem(\"magics\", jsonstr);\n        console.log(\"已将仙术存入web\");\n      });\n    }\n  };\n\n  GlobalFunc.getStorageMagics = function getStorageMagics() {\n    if (sys.isNative) {\n      var writablePath = jsb.fileUtils.getWritablePath();\n      console.log(jsb.fileUtils.getStringFromFile(writablePath + \"nativeMagics.json\"));\n      var jsonData = JSON.parse(jsb.fileUtils.getStringFromFile(writablePath + \"nativeMagics.json\"));\n      console.log(\"已载入native中的仙术\");\n      return jsonData;\n    } else {\n      var _jsonData2 = JSON.parse(sys.localStorage.getItem(\"magics\"));\n\n      console.log(\"已载入web中的仙术\");\n      return _jsonData2;\n    }\n  } // 存取本地调试，data更新要重进一次startMenu更新数据\n  ;\n\n  GlobalFunc.savetoStorage = function savetoStorage() {\n    if (sys.isNative) {\n      resources.load(\"localData/talks\", function (err, res) {\n        if (err) {\n          error(err.message || err);\n          return;\n        } // 获取到 Json 数据\n\n\n        var jsonData = res.json;\n        var jsonstr = JSON.stringify(jsonData);\n        console.log(jsonstr);\n        var writablePath = jsb.fileUtils.getWritablePath();\n        console.log(\"可写入文件路径\" + writablePath); // 利用jsb.fileutils无法写入文件\n        // =>获取可写路径：getWritablePath，写入时加上这个路径。\n        // 存入native\n\n        if (jsb.fileUtils.writeStringToFile(jsonstr, writablePath + \"nativeTalks.json\")) {\n          console.log(\"已将对话存入native\");\n        } else {\n          console.log(\"未将对话存入native\");\n        }\n      });\n    } else {\n      resources.load('localData/talks', function (err, res) {\n        if (err) {\n          error(err.message || err);\n          return;\n        } // 获取到 Json 数据\n\n\n        var jsonData = res.json;\n        var jsonstr = JSON.stringify(jsonData);\n        console.log(jsonstr);\n        sys.localStorage.setItem(\"talks\", jsonstr);\n        console.log(\"已将对话存入web\");\n      });\n    }\n  };\n\n  GlobalFunc.getStorageTalks = function getStorageTalks(sceneName) {\n    if (sys.isNative) {\n      var writablePath = jsb.fileUtils.getWritablePath();\n      console.log(jsb.fileUtils.getStringFromFile(writablePath + \"nativeTalks.json\"));\n      var jsonData = JSON.parse(jsb.fileUtils.getStringFromFile(writablePath + \"nativeTalks.json\"));\n      this.sceneTalks = jsonData[sceneName];\n      console.log(\"已载入native中的talks\");\n    } else {\n      var _jsonData3 = JSON.parse(sys.localStorage.getItem(\"talks\"));\n\n      this.sceneTalks = _jsonData3[sceneName];\n      console.log(\"已载入web中的talks\");\n    }\n  };\n\n  GlobalFunc.changeSp = function changeSp(whos, url) {\n    resources.load(\"loadSprite/\" + url + \"/spriteFrame\", SpriteFrame, function (err, spriteFrame) {\n      // 这里显示有错误\n      // getComponent(Sprite)接口速度跟不上\n      whos.getComponent(Sprite).spriteFrame = spriteFrame;\n    });\n  };\n\n  GlobalFunc.whichEntry = function whichEntry(heroName, otherCollider, selfCollider, nxtEntryNum, outSceneName, inSceneName) {\n    if (otherCollider.node.name == heroName) {\n      console.log(\"进入：\" + inSceneName + \"的 \" + nxtEntryNum + \" 口\"); // console.log(\"来自：\" + outSceneName + \"的 \" + selfCollider.tag + \" 口\");\n\n      this.ongoing.nextSceneEntryPos = nxtEntryNum;\n      this.ongoing.saveLocal();\n      director.loadScene(inSceneName);\n    }\n  };\n\n  GlobalFunc.changeBGM = function changeBGM(bgmName, bgmPlayer) {\n    var _this = this;\n\n    // 设置bgm源\n    if (bgmPlayer.clip == null || bgmPlayer.clip.name != bgmName) {\n      this.ongoing.currBGM = bgmName;\n\n      if (bgmPlayer.playing) {\n        bgmPlayer.pause();\n        console.log(\"bgm暂停了\");\n      }\n\n      resources.load(\"bgm/\" + bgmName, AudioClip, function (err, data) {\n        bgmPlayer.clip = data;\n        console.log(\"clip就绪：\" + bgmName);\n\n        if (_this.ongoing.bgmFlag) {\n          bgmPlayer.play();\n          console.log(\"正播放：\" + bgmName);\n        } else {\n          console.log(\"bgm是关闭状态\");\n        }\n      });\n    } else {\n      console.log(\"音乐不变\");\n    }\n  } // static playBGM(bgmPlayer: AudioSource) {\n  //     bgmPlayer.play();\n  // }\n  ;\n\n  GlobalFunc.setBGM = function setBGM(choice, bgmPlayer) {\n    if (choice) {\n      if (this.ongoing.bgmFlag) {\n        console.log(\"bgm已经是打开状态\");\n      } else {\n        console.log(\"bgm已打开\");\n        bgmPlayer.play();\n        this.ongoing.bgmFlag = true;\n      }\n    } else {\n      if (this.ongoing.bgmFlag) {\n        console.log(\"bgm已关闭\");\n        bgmPlayer.stop();\n        this.ongoing.bgmFlag = false;\n      } else {\n        console.log(\"bgm已经是关闭状态\");\n      }\n    }\n  };\n\n  GlobalFunc.setSound = function setSound(choice) {\n    if (choice) {\n      console.log(\"打开音效（未设置音效功能）\");\n    } else {\n      console.log(\"关闭音效（未设置音效功能）\");\n    }\n  };\n\n  GlobalFunc.getGameSaves = function getGameSaves(num) {\n    var rawData = null;\n\n    if (sys.isNative) {\n      var writablePath = jsb.fileUtils.getWritablePath(); // console.log(jsb.fileUtils.getStringFromFile(writablePath + \"nativeTalks.json\"));\n\n      if (jsb.fileUtils.isFileExist(\"nativeGamesave\" + num + \".json\")) {\n        rawData = jsb.fileUtils.getStringFromFile(writablePath + \"nativeGamesave\" + num + \".json\");\n        console.log(\"native有文件\");\n      } else {\n        console.log(\"native没有文件\");\n      }\n    } else {\n      rawData = sys.localStorage.getItem(\"gamesave\" + num); // rawData = sys.localStorage.getItem(\"ongoing\");\n    }\n\n    if (rawData != null || rawData != undefined) {\n      var jsonData = JSON.parse(rawData);\n      console.log(\"发现存档gamesave\" + num);\n      console.log(jsonData);\n      return jsonData.savedCount;\n    } else {\n      console.log(\"未发现存档gamesave\" + num);\n      return 0;\n    }\n  };\n\n  return GlobalFunc;\n}(Component), _defineProperty(_class2, \"ongoing\", void 0), _defineProperty(_class2, \"sceneTalks\", []), _defineProperty(_class2, \"preloadSceneName\", \"\"), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"340996iLVVNDp55leKpPD3P\", \"villageWeapns\", undefined);\n\nimport { _decorator, Component, Collider2D, director, Contact2DType, TiledMap } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { Seller } from '../Seller';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = villageWeapns\n * DateTime = Thu May 19 2022 14:40:20 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = villageWeapns.ts\n * FileBasenameNoExtension = villageWeapns\n * URL = db://assets/scenes/village/villageWeapns.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var villageWeapns = (_dec = ccclass('villageWeapns'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(villageWeapns, _Component);\n\n  function villageWeapns() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"currItemsIndex\", [9, 10, 11, 12, 13, 14]);\n\n    return _this;\n  }\n\n  var _proto = villageWeapns.prototype;\n\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(15, 0);\n    // GlobalFunc.ongoing.coins=6000;\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"village\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    }\n\n    this.layoutGameProgress();\n    this.setEntryPos();\n  };\n\n  _proto.start = function start() {\n    // [3]\n    var entry = this.node.getChildByPath(\"map/entry\").getComponent(Collider2D);\n\n    if (entry) {\n      entry.on(Contact2DType.BEGIN_CONTACT, this.onEntry, this);\n    }\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {};\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\");\n    this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1032) * 3.5, (1048 - this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].offset.y) * 3.5, 0);\n  };\n\n  _proto.onEntry = function onEntry(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"villageMarket\");\n  };\n\n  _proto.onSellBoxExit = function onSellBoxExit() {\n    this.node.getChildByName(\"sellBox\").active = false;\n    this.hero.getChildByName(\"ctrller\").active = true;\n    this.hero.getChildByName(\"hand\").active = true;\n    console.log(\"现在包里有：\");\n    console.log(GlobalFunc.ongoing.bagItems);\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (this.searchRes[0].collider.node.name == \"npcSmith\") {\n        this.node.getChildByName(\"sellBox\").setPosition(this.hero.getPosition());\n        this.node.getChildByName(\"sellBox\").getComponent(Seller).initLayout(this.currItemsIndex);\n        this.node.getChildByName(\"sellBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      // this.node.getChildByPath(\"map/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return villageWeapns;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"392f113mw9JBbv0gRH6R3Lo\", \"sellitemtype\", undefined);\n\nimport { _decorator } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\r\n * Predefined variables\r\n * Name = dialtype\r\n * DateTime = Thu Apr 28 2022 23:54:36 GMT+0800 (中国标准时间)\r\n * Author = fetion\r\n * FileBasename = dialtype.ts\r\n * FileBasenameNoExtension = dialtype\r\n * URL = db://assets/scripts/dialtype.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\r\n *\r\n */\n// 自定义对话数据类型\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"46595fpD4BMs54+PX2i1/kh\", \"villageMarket\", undefined);\n\nimport { _decorator, Component, Vec3, Prefab, instantiate, Collider2D, director, Contact2DType, Button, TiledMap, Animation, tween } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { NpcControl } from '../NpcControl';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = villageMarket\n * DateTime = Fri May 13 2022 16:27:34 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = villageMarket.ts\n * FileBasenameNoExtension = villageMarket\n * URL = db://assets/scripts/village/villageMarket.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var villageMarket = (_dec = ccclass('villageMarket'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(villageMarket, _Component);\n\n  function villageMarket() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = villageMarket.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(15, 0);\n    // GlobalFunc.ongoing.coins = 6000;\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"village\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    }\n\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    console.log(director.getScene().name + \"所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    if (GlobalFunc.ongoing.progress == 15) {\n      this.talksCount = 0;\n      GlobalFunc.getStorageTalks(\"preIsXian1\");\n      console.log(\"preIsXian1所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n      console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n\n      this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak1, this);\n    } else {\n      this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    }\n\n    var entry0 = this.node.getChildByPath(\"map/entry0\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n\n    var entry3 = this.node.getChildByPath(\"map/entry3\").getComponent(Collider2D);\n\n    if (entry3) {\n      entry3.on(Contact2DType.BEGIN_CONTACT, this.onEntry3, this);\n    }\n\n    var setout = this.node.getChildByPath(\"map/setout\").getComponent(Collider2D);\n\n    if (setout) {\n      setout.once(Contact2DType.BEGIN_CONTACT, this.setout, this);\n    }\n  };\n\n  _proto.onNextSpeak1 = function onNextSpeak1() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < GlobalFunc.sceneTalks.length) {\n      if (this.talksCount == GlobalFunc.sceneTalks.length - 2) {\n        console.log(\"撑船\");\n        this.node.getChildByPath(\"map/colli/enterboat\").active = false;\n        this.node.getChildByName(\"npcZhangsi\").getComponent(NpcControl).getMoveTo = new Vec3(464, -1263);\n      }\n\n      if (this.talksCount == GlobalFunc.sceneTalks.length - 1) {\n        this.node.getChildByName(\"npcZhangsi\").getComponent(Animation).play(\"drive\");\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      console.log(\"没有对话\"); // GlobalFunc.ongoing.progress++;\n\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this3 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n    this.hero.getChildByName(\"dialogueBox\").active = false;\n    this.hero.getChildByName(\"ctrller\").active = true;\n    this.hero.getChildByName(\"hand\").active = true;\n    GlobalFunc.ongoing.progress = 12; // console.log(\"设置对话框1秒内不交互 结束\");\n\n    this.scheduleOnce(function () {\n      _this3.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    if (GlobalFunc.ongoing.progress == 8 || GlobalFunc.ongoing.progress == 11) {\n      this.talksCount = 10;\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\");\n    this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1040) * 3.5, this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].y * 3.5, 0);\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"villageWeapons\");\n  };\n\n  _proto.onEntry3 = function onEntry3(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 1, director.getScene().name, \"village\");\n  };\n\n  _proto.setout = function setout() {\n    var _this4 = this;\n\n    this.hero.getComponent(Controller).onStop();\n    this.hero.getChildByName(\"ctrller\").active = false;\n    this.hero.getChildByName(\"hand\").active = false;\n    GlobalFunc.ongoing.nextSceneEntryPos = 1;\n    GlobalFunc.ongoing.saveLocal();\n    tween(this.node.getChildByName(\"heroLXY\")).by(5, {\n      position: new Vec3(320, 160)\n    }, {\n      onStart: function onStart() {\n        tween(_this4.node.getChildByName(\"npcZhangsi\")).by(5, {\n          position: new Vec3(320, 160)\n        }).start();\n        tween(_this4.node.getChildByName(\"boat\")).by(5, {\n          position: new Vec3(320, 160)\n        }).start();\n      },\n      onComplete: function onComplete() {\n        director.loadScene(\"IsXianWharf\");\n      }\n    }).start();\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (this.searchRes[0].collider.node.name == \"npcZhangsi\" && (GlobalFunc.ongoing.progress == 8 || GlobalFunc.ongoing.progress == 11 || GlobalFunc.ongoing.progress == 15)) {\n        this.hero.getChildByName(\"dialogueBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n        ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      // this.node.getChildByPath(\"map/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return villageMarket;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"53020+hnSFBUJ1MLhicoUZY\", \"Seller\", undefined);\n\nimport { _decorator, Component, Label, resources, Prefab, instantiate, SpriteFrame, Sprite, Button, Color } from 'cc';\nimport { GlobalFunc } from './GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = Seller\n * DateTime = Wed May 18 2022 01:47:38 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = Seller.ts\n * FileBasenameNoExtension = Seller\n * URL = db://assets/scripts/Seller.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var Seller = (_dec = ccclass('Seller'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Seller, _Component);\n\n  function Seller() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"currItems\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"items\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"selected\", 0);\n\n    return _this;\n  }\n\n  var _proto = Seller.prototype;\n\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.initLayout = function initLayout(index) {\n    // GlobalFunc.ongoing.bagDrugs.set(3, 10);\n    // GlobalFunc.ongoing.coins = 6000;\n    this.selected = 0;\n    this.currItems = index;\n    var jsonitems = GlobalFunc.getStorageSellItems(); // console.log(jsonitems);\n\n    Object.assign(this.items, jsonitems); // 已经parse过了\n\n    console.log(this.items);\n    this.changePic(this.node.getChildByPath(\"itempic/pic\"), this.items[this.currItems[0]].picurl);\n    this.node.getChildByPath(\"owned/textnum\").getComponent(Label).string = String(GlobalFunc.ongoing.getBagItem(this.currItems[this.selected]));\n    this.layoutItems();\n  };\n\n  _proto.layoutItems = function layoutItems() {\n    var _this2 = this;\n\n    this.node.getChildByName(\"items\").removeAllChildren();\n\n    var _loop = function _loop(i) {\n      var element = _this2.currItems[i];\n      resources.load('prefabs/sellItem', Prefab, function (err, prefab) {\n        var newNode = instantiate(prefab);\n        newNode.getChildByName(\"itemname\").getComponent(Label).string = _this2.items[element].name;\n        newNode.getChildByName(\"itemprice\").getComponent(Label).string = String(_this2.items[element].price);\n\n        _this2.node.getChildByName(\"items\").addChild(newNode);\n\n        console.log(\"上架一个。\");\n        newNode.on(Button.EventType.CLICK, _this2.selectedItem, _this2);\n      });\n    };\n\n    for (var i = 0; i < this.currItems.length; i++) {\n      _loop(i);\n    }\n  };\n\n  _proto.onButtonYes = function onButtonYes() {\n    if (GlobalFunc.ongoing.coins < this.items[this.currItems[this.selected]].price) {\n      this.node.getChildByPath(\"btYesONo/notice\").active = true;\n    } else {\n      console.log(\"购买成功\");\n      GlobalFunc.ongoing.coins -= this.items[this.currItems[this.selected]].price;\n      GlobalFunc.ongoing.addToBagItems(this.currItems[this.selected]);\n      this.node.getChildByName(\"btYesONo\").active = false;\n      this.node.getChildByName(\"items\").children[this.selected].getChildByName(\"itemname\").getComponent(Label).color = new Color(255, 255, 255);\n      this.setTouchable();\n    }\n  };\n\n  _proto.onButtonNo = function onButtonNo() {\n    console.log(\"取消购买\");\n\n    if (this.node.getChildByPath(\"btYesONo/notice\").active) {\n      this.node.getChildByPath(\"btYesONo/notice\").active = false;\n    }\n\n    this.node.getChildByName(\"btYesONo\").active = false;\n    this.node.getChildByName(\"items\").children[this.selected].getChildByName(\"itemname\").getComponent(Label).color = new Color(255, 255, 255);\n    this.setTouchable();\n  };\n\n  _proto.setUntouchable = function setUntouchable() {\n    this.node.getChildByName(\"exit\").getComponent(Button).interactable = false;\n    this.node.getChildByName(\"items\").children.forEach(function (element) {\n      element.getComponent(Button).interactable = false;\n    });\n  };\n\n  _proto.setTouchable = function setTouchable() {\n    this.node.getChildByName(\"exit\").getComponent(Button).interactable = true;\n    this.node.getChildByName(\"items\").children.forEach(function (element) {\n      element.getComponent(Button).interactable = true;\n    });\n  };\n\n  _proto.selectedItem = function selectedItem(button) {\n    button.node.getChildByName(\"itemname\").getComponent(Label).color = new Color(244, 228, 108);\n    this.setUntouchable();\n    this.node.getChildByName(\"btYesONo\").active = true; // 列表选中的序号\n\n    this.selected = button.node.getSiblingIndex(); // 选中商品的详细信息\n\n    console.log(this.currItems[this.selected]);\n    console.log(this.items[this.currItems[this.selected]]); // 修改显示图片\n\n    this.changePic(this.node.getChildByPath(\"itempic/pic\"), this.items[this.currItems[this.selected]].picurl);\n  };\n\n  _proto.changePic = function changePic(whos, url) {\n    resources.load(\"sellitemspic/\" + url + \"/spriteFrame\", SpriteFrame, function (err, spriteFrame) {\n      whos.getComponent(Sprite).spriteFrame = spriteFrame;\n    });\n  };\n\n  _proto.update = function update() {\n    // 检查包里有多少对应数量\n    if (GlobalFunc.ongoing.hasBagItem(this.currItems[this.selected])) {\n      this.node.getChildByPath(\"owned/textnum\").getComponent(Label).string = String(GlobalFunc.ongoing.getBagItem(this.currItems[this.selected]));\n    } else {\n      this.node.getChildByPath(\"owned/textnum\").getComponent(Label).string = \"0\";\n    } // 显示金钱\n\n\n    this.node.getChildByPath(\"remainCoins/textnum\").getComponent(Label).string = String(GlobalFunc.ongoing.coins);\n  };\n\n  return Seller;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"631281D4VNOQJHFzW+ibz2J\", \"MainMenu\", undefined);\n\nimport { _decorator, Component, Button, Label, game, AudioSource, find, Sprite, resources, Prefab, instantiate, Color, SpriteFrame } from 'cc';\nimport { GlobalFunc } from './GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = MainMenu\n * DateTime = Fri May 20 2022 01:56:51 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = MainMenu.ts\n * FileBasenameNoExtension = MainMenu\n * URL = db://assets/scripts/MainMenu.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var MainMenu = (_dec = ccclass('MainMenu'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MainMenu, _Component);\n\n  function MainMenu() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"selected\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"items\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"magics\", []);\n\n    return _this;\n  }\n\n  var _proto = MainMenu.prototype;\n\n  // gameSaves = [];\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.onLoad = function onLoad() {\n    this.node.getChildByPath(\"lcmoney/coins\").getComponent(Label).string = String(GlobalFunc.ongoing.coins);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.node.on(Button.EventType.CLICK, this.onMenuOpen, this);\n    this.node.getChildByPath(\"settings/btMagic\").on(Button.EventType.CLICK, this.onShowMagics, this);\n    this.node.getChildByPath(\"settings/btItems\").on(Button.EventType.CLICK, this.onShowItems, this);\n    this.node.getChildByPath(\"settings/btSystem\").on(Button.EventType.CLICK, this.onShowSystem, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSave\").on(Button.EventType.CLICK, this.onShowProgrss, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btLoad\").on(Button.EventType.CLICK, this.onShowProgrss, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btBGM\").on(Button.EventType.CLICK, this.onShowChoice, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSound\").on(Button.EventType.CLICK, this.onShowChoice, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btEndGame\").on(Button.EventType.CLICK, this.onShowChoice, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo/btYes\").on(Button.EventType.CLICK, this.onChoiceConfirmed, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo/btNo\").on(Button.EventType.CLICK, this.onChoiceCancelled, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo/btYes\").on(Button.EventType.CLICK, this.onChoiceConfirmed, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo/btNo\").on(Button.EventType.CLICK, this.onChoiceCancelled, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo/btYes\").on(Button.EventType.CLICK, this.onChoiceConfirmed, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo/btNo\").on(Button.EventType.CLICK, this.onChoiceCancelled, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSave/bars/btProgress1\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSave/bars/btProgress2\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSave/bars/btProgress3\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSave/bars/btProgress4\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btSave/bars/btProgress5\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars/btProgress1\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars/btProgress2\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars/btProgress3\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars/btProgress4\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars/btProgress5\").on(Button.EventType.CLICK, this.onManageGameSaves, this); // 加载所有物品\n\n    var jsonitems = GlobalFunc.getStorageSellItems();\n    Object.assign(this.items, jsonitems); // 已经parse过了\n\n    console.log(this.items); // 加载所有仙术\n\n    var jsonmagics = GlobalFunc.getStorageMagics();\n    Object.assign(this.magics, jsonmagics); // 已经parse过了\n\n    console.log(this.magics); // // 加载存档\n    // for (let i = 0; i < 5; i++) {\n    //     let jsonData = JSON.parse(sys.localStorage.getItem(\"gamesave\" + i));\n    //     console.log(typeof jsonData);\n    //     this.gameSaves.push(jsonData);\n    // }\n  };\n\n  _proto.onChoiceConfirmed = function onChoiceConfirmed(button) {\n    if (button.node.parent.parent.name == \"btBGM\") {\n      GlobalFunc.setBGM(true, find(\"bgm\").getComponent(AudioSource));\n      button.node.parent.active = false;\n    } else if (button.node.parent.parent.name == \"btSound\") {\n      GlobalFunc.setSound(true);\n      button.node.parent.active = false;\n    } else if (button.node.parent.parent.name == \"btEndGame\") {\n      GlobalFunc.ongoing.saveLocal();\n      game.end();\n    }\n  };\n\n  _proto.onChoiceCancelled = function onChoiceCancelled(button) {\n    if (button.node.parent.parent.name == \"btBGM\") {\n      GlobalFunc.setBGM(false, find(\"bgm\").getComponent(AudioSource));\n    } else if (button.node.parent.parent.name == \"btSound\") {\n      GlobalFunc.setSound(false);\n    }\n\n    button.node.parent.active = false;\n  };\n\n  _proto.onShowChoice = function onShowChoice(button) {\n    if (this.node.getChildByPath(\"settings/btSystem/system/btSave/bars\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btSave/bars\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo\").active = false;\n    }\n\n    button.node.getChildByName(\"btYesONo\").active = true;\n    console.log(button.node.name);\n  };\n\n  _proto.onShowProgrss = function onShowProgrss(button) {\n    if (this.node.getChildByPath(\"settings/btSystem/system/btSave/bars\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btSave/bars\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo\").active = false;\n    }\n\n    button.node.getChildByName(\"bars\").active = true;\n    console.log(button.node.name); // 显示各存档\n\n    button.node.getChildByName(\"bars\").children.forEach(function (element) {\n      element.getChildByName(\"num\").getComponent(Label).string = GlobalFunc.getGameSaves(element.getSiblingIndex());\n    });\n  };\n\n  _proto.onManageGameSaves = function onManageGameSaves(button) {\n    if (button.node.parent.parent.name == \"btSave\") {\n      var nextSaveIndex = 0; // 确定存档顺序号\n\n      button.node.parent.children.forEach(function (element) {\n        if (Number(element.getChildByName(\"num\").getComponent(Label).string) > nextSaveIndex) {\n          nextSaveIndex = Number(element.getChildByName(\"num\").getComponent(Label).string);\n        }\n      });\n      GlobalFunc.saveGame(button.node.getSiblingIndex(), nextSaveIndex + 1); // button.node.getChildByName(\"num\").getComponent(Label).string = GlobalFunc.getGameSaves(button.node.getSiblingIndex());\n\n      this.onMenuExit();\n    } else {\n      if (button.node.getChildByName(\"num\").getComponent(Label).string != \"0\") {\n        GlobalFunc.newGame();\n        GlobalFunc.loadGame(button.node.getSiblingIndex());\n      } else {\n        this.onMenuExit();\n      }\n    }\n  };\n\n  _proto.onShowSystem = function onShowSystem() {\n    this.node.getChildByPath(\"settings/btSystem/system\").active = true;\n  };\n\n  _proto.onShowMagics = function onShowMagics() {\n    this.node.getComponent(Button).interactable = false;\n    this.selected = 0;\n    this.closeOtherWindows();\n    this.node.getChildByName(\"magicUnits\").active = true;\n    this.node.getChildByName(\"lcmoney\").active = false;\n    this.node.getChildByName(\"exit\").active = false;\n\n    if (this.node.getChildByPath(\"settings\").active) {\n      this.node.getChildByPath(\"settings\").active = false;\n    }\n\n    this.initMagicItems();\n    this.layoutMagics();\n  };\n\n  _proto.initMagicItems = function initMagicItems() {\n    var _this2 = this;\n\n    this.node.getChildByPath(\"magicUnits/brief/hpall\").getComponent(Label).string = String(GlobalFunc.ongoing.herostate[0]);\n    this.node.getChildByPath(\"magicUnits/brief/mpall\").getComponent(Label).string = String(GlobalFunc.ongoing.herostate[1]);\n    this.node.getChildByPath(\"magicUnits/brief/hpcurr\").getComponent(Label).string = String(GlobalFunc.ongoing.herocurrstate[0]);\n    this.node.getChildByPath(\"magicUnits/brief/mpcurr\").getComponent(Label).string = String(GlobalFunc.ongoing.herocurrstate[1]);\n    resources.load(\"battle/briefAvatar/spriteFrame\", SpriteFrame, function (err, spriteFrame) {\n      _this2.node.getChildByPath(\"magicUnits/brief/avatar\").getComponent(Sprite).spriteFrame = spriteFrame;\n    });\n    this.node.getChildByPath(\"magicUnits/magicFigure/myCurr\").getComponent(Label).string = String(GlobalFunc.ongoing.herocurrstate[1]);\n    this.node.getChildByPath(\"magicUnits/magicFigure/thisMagic\").getComponent(Label).string = this.magics[GlobalFunc.ongoing.currMagics[0]].smp;\n    this.node.getChildByPath(\"magicUnits/introduce\").getComponent(Label).string = this.magics[GlobalFunc.ongoing.currMagics[0]].introduce;\n  };\n\n  _proto.layoutMagics = function layoutMagics() {\n    var _this3 = this;\n\n    this.node.getChildByPath(\"magicUnits/magics\").removeAllChildren();\n\n    var _loop = function _loop(i) {\n      var element = GlobalFunc.ongoing.currMagics[i];\n      resources.load('prefabs/magicitem1', Prefab, function (err, prefab) {\n        var newNode = instantiate(prefab);\n        newNode.getComponent(Label).string = _this3.magics[element].name;\n\n        _this3.node.getChildByPath(\"magicUnits/magics\").addChild(newNode);\n\n        console.log(\"陈列一种仙术\");\n        newNode.on(Button.EventType.CLICK, _this3.selectedMagic, _this3);\n      });\n    };\n\n    for (var i = 0; i < GlobalFunc.ongoing.currMagics.length; i++) {\n      _loop(i);\n    }\n  };\n\n  _proto.selectedMagic = function selectedMagic(button) {\n    // 选中颜色改变\n    button.node.getComponent(Label).color = new Color(244, 228, 108);\n\n    if (this.selected != button.node.getSiblingIndex()) {\n      this.node.getChildByPath(\"magicUnits/magics\").children[this.selected].getComponent(Label).color = Color.WHITE;\n    } // 列表选中的序号\n\n\n    this.selected = button.node.getSiblingIndex(); // 选中仙术的详细信息\n\n    console.log(this.magics[GlobalFunc.ongoing.currMagics[this.selected]]); // 修改介绍\n\n    this.node.getChildByPath(\"magicUnits/introduce\").getComponent(Label).string = this.magics[GlobalFunc.ongoing.currMagics[this.selected]].introduce;\n    this.node.getChildByPath(\"magicUnits/magicFigure/thisMagic\").getComponent(Label).string = this.magics[GlobalFunc.ongoing.currMagics[this.selected]].smp;\n  };\n\n  _proto.onShowItems = function onShowItems() {\n    this.node.getComponent(Button).interactable = false;\n    this.selected = 0;\n    this.closeOtherWindows();\n    this.node.getChildByName(\"itemUnits\").active = true;\n    this.node.getChildByName(\"lcmoney\").active = false;\n    this.node.getChildByName(\"exit\").active = false;\n\n    if (this.node.getChildByPath(\"settings\").active) {\n      this.node.getChildByPath(\"settings\").active = false;\n    }\n\n    if (GlobalFunc.ongoing.bagItems.length != 0) {\n      this.node.getChildByPath(\"itemUnits/itempic/pic\").getComponent(Sprite).spriteFrame = null;\n      this.node.getChildByPath(\"itemUnits/introduce\").getComponent(Label).string = \"\";\n      this.layoutItems();\n    } else {\n      this.node.getChildByPath(\"itemUnits/items\").removeAllChildren();\n      this.node.getChildByPath(\"itemUnits/itempic/pic\").getComponent(Sprite).spriteFrame = null;\n      this.node.getChildByPath(\"itemUnits/introduce\").getComponent(Label).string = \"\";\n    }\n  };\n\n  _proto.layoutItems = function layoutItems() {\n    var _this4 = this;\n\n    this.node.getChildByPath(\"itemUnits/items\").removeAllChildren();\n\n    var _loop2 = function _loop2(i) {\n      var element = GlobalFunc.ongoing.bagItems[i];\n      resources.load('prefabs/bagitem1', Prefab, function (err, prefab) {\n        var newNode = instantiate(prefab);\n        newNode.getComponent(Label).string = _this4.items[element[0]].name;\n        newNode.getChildByName(\"count\").getComponent(Label).string = String(element[1]);\n\n        _this4.node.getChildByPath(\"itemUnits/items\").addChild(newNode);\n\n        console.log(\"陈列一个物品\");\n        newNode.on(Button.EventType.CLICK, _this4.selectedItem, _this4);\n      });\n    };\n\n    for (var i = 0; i < GlobalFunc.ongoing.bagItems.length; i++) {\n      _loop2(i);\n    }\n  };\n\n  _proto.selectedItem = function selectedItem(button) {\n    // 选中颜色改变\n    button.node.getComponent(Label).color = new Color(244, 228, 108);\n\n    if (this.selected != button.node.getSiblingIndex()) {\n      this.node.getChildByPath(\"itemUnits/items\").children[this.selected].getComponent(Label).color = Color.WHITE;\n    } // 列表选中的序号\n\n\n    this.selected = button.node.getSiblingIndex(); // 选中物品的详细信息\n\n    console.log(this.items[GlobalFunc.ongoing.bagItems[this.selected][0]]); // 修改显示图片\n\n    this.changePic(this.node.getChildByPath(\"itemUnits/itempic/pic\"), this.items[GlobalFunc.ongoing.bagItems[this.selected][0]].picurl); // 修改介绍\n\n    this.node.getChildByPath(\"itemUnits/introduce\").getComponent(Label).string = this.items[GlobalFunc.ongoing.bagItems[this.selected][0]].introduce;\n  };\n\n  _proto.onMenuOpen = function onMenuOpen() {\n    this.node.getChildByName(\"lcmoney\").active = true;\n    this.node.getChildByName(\"settings\").active = true;\n    this.node.getChildByName(\"exit\").active = true;\n    this.node.getChildByPath(\"lcmoney/coins\").getComponent(Label).string = String(GlobalFunc.ongoing.coins);\n    this.node.parent.getChildByName(\"ctrller\").active = false;\n    this.node.parent.getChildByName(\"hand\").active = false;\n  };\n\n  _proto.onMenuExit = function onMenuExit() {\n    this.node.getComponent(Button).interactable = true;\n    this.node.getChildByName(\"lcmoney\").active = false;\n    this.closeOtherWindows();\n    this.node.getChildByName(\"settings\").active = false;\n    this.node.getChildByName(\"exit\").active = false;\n\n    if (this.node.getChildByName(\"itemUnits\").active) {\n      this.node.getChildByName(\"itemUnits\").active = false;\n    }\n\n    if (this.node.getChildByName(\"magicUnits\").active) {\n      this.node.getChildByName(\"magicUnits\").active = false;\n    }\n\n    this.node.parent.getChildByName(\"ctrller\").active = true;\n    this.node.parent.getChildByName(\"hand\").active = true;\n  };\n\n  _proto.closeOtherWindows = function closeOtherWindows() {\n    if (this.node.getChildByPath(\"settings/btSystem/system/btSave/bars\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btSave/bars\").active = false; // this.node.getChildByPath(\"settings/btSystem/system/btSave\").active = false;\n      // this.node.getChildByPath(\"settings/btSystem/system\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btLoad/bars\").active = false; // this.node.getChildByPath(\"settings/btSystem/system/btLoad\").active = false;\n      // this.node.getChildByPath(\"settings/btSystem/system\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btBGM/btYesONo\").active = false; // this.node.getChildByPath(\"settings/btSystem/system/btBGM\").active = false;\n      // this.node.getChildByPath(\"settings/btSystem/system\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btSound/btYesONo\").active = false; // this.node.getChildByPath(\"settings/btSystem/system/btSound\").active = false;\n      // this.node.getChildByPath(\"settings/btSystem/system\").active = false;\n    }\n\n    if (this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo\").active) {\n      this.node.getChildByPath(\"settings/btSystem/system/btEndGame/btYesONo\").active = false; // this.node.getChildByPath(\"settings/btSystem/system/btEndGame\").active = false;\n      // this.node.getChildByPath(\"settings/btSystem/system\").active = false;\n    }\n\n    this.node.getChildByPath(\"settings/btSystem/system\").active = false;\n  };\n\n  _proto.changePic = function changePic(whos, url) {\n    resources.load(\"sellitemspic/\" + url + \"/spriteFrame\", SpriteFrame, function (err, spriteFrame) {\n      whos.getComponent(Sprite).spriteFrame = spriteFrame;\n    });\n  } // update (deltaTime: number) {\n  //     // [4]\n  // }\n  ;\n\n  return MainMenu;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"662d4tfaJ9CNIxt0fU/JVaH\", \"myRoom\", undefined);\n\nimport { _decorator, Component, Prefab, resources, instantiate, Label, JsonAsset, Input, Sprite, SpriteFrame, UITransform, Animation, tween, Vec3, Widget, Contact2DType, Collider2D, director, Button, find, AudioSource } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { MainMenu } from '../MainMenu';\nimport { NpcControl } from '../NpcControl';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = myRoom\n * DateTime = Tue Apr 26 2022 01:52:21 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = myRoom.ts\n * FileBasenameNoExtension = myRoom\n * URL = db://assets/scripts/myRoom.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var myRoom = (_dec = ccclass('myRoom'), _dec2 = property(Prefab), _dec3 = property(JsonAsset), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(myRoom, _Component);\n\n  function myRoom() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"deltaTimeCount\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 9999);\n\n    _defineProperty(_assertThisInitialized(_this), \"myRoomTalks\", null);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"itemGiftJson\", _descriptor2, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = myRoom.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // GlobalFunc.loadBGM(\"bgmHotel\", find(\"bgm\").getComponent(AudioSource));\n    // 每次切换场景读取当前游戏数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress); // GlobalFunc在开始菜单调用了一次，数据已经存在\n    // 保险起见还是再读取一下存储\n\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 这个object意思自己确定数据的属性，不是大的那个Object对象\n    // const jsonData: object = this.itemGiftJson.json![\"myRoom\"];\n\n    this.myRoomTalks = this.itemGiftJson.json[\"myRoom\"]; // console.log(this.myRoomTalks);// 用动态加载不行\n\n    console.log(\"已加载完对话\"); // preFabs必须要实例化\n\n    var dialBox = instantiate(this.dialogueBox); // 实例化后要挂上父节点\n    // this.node.addChild(dialBox);\n\n    this.node.getChildByName(\"heroLXY\").addChild(dialBox); // dialBox.setScale(0.3,0.3);\n    // dialBox.addComponent(Widget).target = this.node.getChildByName(\"heroLXY\");\n    // 创建就是active（如果prefab里面没设置inactive）\n    // this.node.getChildByName(\"dialogueBox\").active = false;\n    // console.log(this.node.getChildByName(\"dialogueBox\").name + \"预制体加载成功\");\n\n    dialBox.active = false;\n    console.log(dialBox.name + \"预制体加载成功\");\n    this.node.getChildByName(\"heroLXY\").active = false;\n    this.node.getChildByName(\"mapMyRoom\").active = false; // 调试用\n    // GlobalFunc.ongoing.readLocal();\n    // GlobalFunc.ongoing.progress=1;\n\n    console.log(\"当前进度：\" + GlobalFunc.ongoing.progress); // 判断是否已经完成对话,未完成对话表示新游戏\n\n    if (GlobalFunc.ongoing.progress == 0) {\n      console.log(\"对话开始\");\n      this.talksCount = 0;\n      this.node.getChildByName(\"wake\").active = true;\n      ShowTalk.showOneByOne(this.node.getChildByName(\"wake\").getComponent(Label), this.node.getChildByName(\"wake\").getComponent(Label).string); // 各人物初始状态\n\n      this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"sleep\");\n      this.onChangeSp(this.node.getChildByName(\"npcLDN\"), \"hitldn\"); // 状态图片UITransform修改\n\n      this.node.getChildByName(\"heroLXY\").getComponent(UITransform).setContentSize(44, 32);\n      this.scheduleOnce(function () {\n        // this.node.getChildByName(\"dialogueBox\").active = true;\n        dialBox.active = true;\n        dialBox.addComponent(Widget).target = _this2.node.getChildByName(\"heroLXY\");\n        _this2.node.getChildByName(\"heroLXY\").active = true;\n        _this2.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        _this2.node.getChildByPath(\"heroLXY/hand\").active = false;\n      }, 1);\n      console.log(\"人物初始完成\");\n    } else {\n      this.setEntryPos();\n      this.node.getChildByName(\"heroLXY\").active = true;\n      this.node.getChildByName(\"mapMyRoom\").active = true; // this.node.getChildByName(\"bgmHotel\").active = true;\n\n      GlobalFunc.changeBGM(\"bgmHotel\", find(\"bgm\").getComponent(AudioSource));\n    }\n  };\n\n  _proto.start = function start() {\n    // [3]\n    // this.node.getChildByName(\"dialogueBox\").on(Input.EventType.TOUCH_END, this.onNextSpeak, this);\n    this.node.getChildByPath(\"heroLXY/dialogueBox\").on(Input.EventType.TOUCH_END, this.onNextSpeak, this); // 相机定位hero，随hero走。代码设置会视觉错误，可以直接在编辑器拖进去\n    // this.node.getChildByName(\"Camera\").setParent(this.node.getChildByName(\"heroLXY\"));\n\n    var entry0 = this.node.getChildByPath(\"mapMyRoom/entry0\").getComponent(Collider2D);\n    var entry1 = this.node.getChildByPath(\"mapMyRoom/entry1\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n\n    if (entry1) {\n      entry1.on(Contact2DType.BEGIN_CONTACT, this.onEntry1, this);\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\");\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n      this.node.getChildByName(\"mapMyRoom\").setPosition(48 + 404, -144 + 242, 0);\n    } else {\n      this.node.getChildByName(\"mapMyRoom\").setPosition(48 + -136, -144 + -22, 0);\n    }\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 6, director.getScene().name, \"hotel\");\n  };\n\n  _proto.onEntry1 = function onEntry1(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress == 1) {\n      console.log(\"剧情不许离开\");\n      this.node.getChildByPath(\"heroLXY\").getComponent(Controller).onStop();\n      this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n      this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n      this.node.getChildByPath(\"heroLXY/hand\").active = false;\n      ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), this.myRoomTalks[24]);\n      console.log(\"当前计数==\" + this.talksCount);\n      this.talksCount = 24;\n      console.log(\"计数是否重置==\" + this.talksCount);\n    } else {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 1, director.getScene().name, \"hotelStore\");\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this3 = this;\n\n    // 设置对话框1秒内不交互\n    this.node.getChildByPath(\"heroLXY/dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < this.myRoomTalks.length - 1) {\n      if (this.talksCount == 1) {\n        this.node.getChildByName(\"wake\").active = false;\n        this.node.getChildByName(\"mapMyRoom\").active = true; // this.node.getChildByName(\"bgmHotel\").active = true;\n\n        GlobalFunc.changeBGM(\"bgmHotel\", find(\"bgm\").getComponent(AudioSource));\n        this.node.getChildByName(\"npcLDN\").active = true;\n      }\n\n      if (this.talksCount == 4) {\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"standlxy\");\n        this.node.getChildByName(\"heroLXY\").getComponent(UITransform).setContentSize(22, 50);\n      }\n\n      if (this.talksCount == 10) {\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"standrlxy\");\n      }\n\n      if (this.talksCount == 13) {\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"handsinarmlxy\");\n      }\n\n      if (this.talksCount == 14) {\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"kflxy\");\n      }\n\n      if (this.talksCount == 15) {\n        this.node.getChildByName(\"heroLXY\").getComponent(Animation).play(\"gotHit\");\n        this.node.getChildByName(\"npcLDN\").getComponent(Animation).play(\"hit\");\n      }\n\n      if (this.talksCount == 17) {\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"standlxy\"); // 从Component的脚本传入改变向量\n\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveBy = new Vec3(-320, -160);\n      }\n\n      if (this.talksCount == 18) {\n        this.onChangeSp(this.node.getChildByName(\"npcLDN\"), \"standuldn\");\n      }\n\n      if (this.talksCount == 19) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveBy = new Vec3(-960, -480);\n        tween(this.node.getChildByName(\"heroLXY\")).by(1, {\n          position: new Vec3(32 * 1.5, -16 * 1.5)\n        }, {\n          onStart: function onStart() {\n            _this3.node.getChildByName(\"heroLXY\").getComponent(Controller).onWalkRight();\n          },\n          onComplete: function onComplete() {\n            tween(_this3.node.getChildByName(\"heroLXY\")).by(1, {\n              position: new Vec3(32 * 1.5, 16 * 1.5)\n            }, {\n              onStart: function onStart() {\n                _this3.node.getChildByName(\"heroLXY\").getComponent(Controller).onWalkUp();\n              },\n              onComplete: function onComplete() {\n                _this3.node.getChildByName(\"heroLXY\").getComponent(Controller).onStop();\n\n                _this3.onChangeSp(_this3.node.getChildByName(\"heroLXY\"), \"standlxy\");\n              }\n            }).start(); // this.node.getChildByName(\"heroLXY\").getComponent(Controller).onStop();\n          }\n        }).start(); // 执行记得要start\n      }\n\n      if (this.talksCount == 20) {\n        this.node.getChildByName(\"npcLDN\").active = false;\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"standulxy\");\n      }\n\n      if (this.talksCount == 22) {\n        this.onChangeSp(this.node.getChildByName(\"heroLXY\"), \"standlxy\");\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + this.myRoomTalks.length + \"句\");\n      console.log(this.myRoomTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), this.myRoomTalks[this.talksCount]);\n      this.talksCount++;\n    } else if (GlobalFunc.ongoing.progress == 1) {\n      // 还不能去密道\n      if (this.talksCount == 24) {\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), this.myRoomTalks[21]);\n        this.talksCount++;\n      } else if (this.talksCount == 25) {\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), this.myRoomTalks[22]);\n        this.talksCount++;\n      } else {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = false;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = true;\n        this.node.getChildByPath(\"heroLXY/hand\").active = true; // this.talksCount = 24;\n      }\n\n      console.log(\"当前计数==\" + this.talksCount);\n    } else {\n      console.log(\"对话结束\"); // 对话结束，进度+1\n\n      GlobalFunc.ongoing.progress++;\n      console.log(\"对话结束，当前进度=\" + GlobalFunc.ongoing.progress); // 调试用\n      // GlobalFunc.ongoing.progress = 10000;\n      // 预加载场景\n\n      director.preloadScene(\"hotel\");\n      director.preloadScene(\"hotelStore\"); // this.node.getChildByName(\"heroLXY\").getComponent(Controller).onLayoutCtrllerNHand();\n      // this.node.getChildByName(\"dialogueBox\").active = false;\n\n      this.node.getChildByPath(\"heroLXY/dialogueBox\").active = false;\n      this.node.getChildByPath(\"heroLXY/ctrller\").active = true;\n      this.node.getChildByPath(\"heroLXY/hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this3.node.getChildByPath(\"heroLXY/dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.onChangeSp = function onChangeSp(whos, url) {\n    resources.load(\"loadSprite/\" + url + \"/spriteFrame\", SpriteFrame, function (err, sp) {\n      whos.getComponent(Sprite).spriteFrame = sp;\n    });\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      console.log(this.searchRes[1].node.name);\n\n      if (this.searchRes[1].group == 32) {\n        GlobalFunc.ongoing.addToBagItems(this.searchRes[1].tag);\n        console.log(typeof GlobalFunc.ongoing.bagItems); // 弹出提示\n\n        this.node.getChildByName(\"heroLXY\").getComponent(Controller).onFlashHint(\"找到：\" + this.node.getChildByPath(\"heroLXY/mainMenu\").getComponent(MainMenu).items[this.searchRes[1].tag].name);\n      }\n\n      this.searchRes[1].node.active = false;\n      this.searchRes[1] = null;\n    } // else if (GlobalFunc.ongoing.progress < 1000) {\n    //     // 目前不能进密道，进度值待修改\n    // } \n    // console.log(this.searchRes);\n    // console.log(find(\"bgm\").getComponent(AudioSource).clip.name);\n\n  };\n\n  return myRoom;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"itemGiftJson\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"7d2cbPyuXhKqLTfo998cxM2\", \"IsXianValley\", undefined);\n\nimport { _decorator, Component, Vec3, Collider2D, director, Contact2DType, TiledMap, sys } from 'cc';\nimport { GlobalFunc } from '../GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = IsXianValley\n * DateTime = Sun May 22 2022 15:47:25 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = IsXianValley.ts\n * FileBasenameNoExtension = IsXianValley\n * URL = db://assets/scripts/IsXian/IsXianValley.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var IsXianValley = (_dec = ccclass('IsXianValley'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(IsXianValley, _Component);\n\n  function IsXianValley() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    return _this;\n  }\n\n  var _proto = IsXianValley.prototype;\n\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(3, 1);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks();\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    } // console.log(GlobalFunc.ongoing);\n\n\n    this.layoutGameProgress();\n  };\n\n  _proto.start = function start() {\n    // [3]\n    // this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry0 = this.node.getChildByPath(\"map/entry0\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n\n    var entry1 = this.node.getChildByPath(\"map/entry1\").getComponent(Collider2D);\n\n    if (entry1) {\n      entry1.on(Contact2DType.BEGIN_CONTACT, this.onEntry1, this);\n    } // this.node.getChildByName(\"enemies\").active = true;\n\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    var _this2 = this;\n\n    var lastposx = 99;\n    var lastposy = 89;\n\n    if (sys.isNative) {\n      // web和native存入后读取出来的格式不同\n      console.log(GlobalFunc.ongoing.lastPos._array);\n      lastposx = GlobalFunc.ongoing.lastPos._array[0];\n      lastposy = GlobalFunc.ongoing.lastPos._array[1];\n    } else {\n      lastposx = GlobalFunc.ongoing.lastPos.x;\n      lastposy = GlobalFunc.ongoing.lastPos.y;\n    }\n\n    console.log(lastposx);\n    console.log(lastposy);\n\n    if (lastposx != 0 || lastposy != 0) {\n      console.log(\"从战场返回\");\n      this.hero.setPosition(new Vec3(lastposx, lastposy)); // 定位\n\n      GlobalFunc.ongoing.killedEnemies.forEach(function (element) {\n        // 名单中的敌人已消灭\n        if (_this2.node.getChildByPath(\"enemies/\" + element).isValid) {\n          _this2.node.getChildByPath(\"enemies/\" + element).active = false;\n        }\n      });\n    } else {\n      console.log(\"从别处入口进入\");\n      this.setEntryPos();\n\n      if (GlobalFunc.ongoing.killedEnemies.length != 0) {\n        console.log(\"上个场景战斗敌人名单已清空\");\n        GlobalFunc.ongoing.killedEnemies.length = 0; // 清空上个场景战斗的敌人名单\n      }\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\");\n    this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1032) * 3.5, (1048 - this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].offset.y) * 3.5, 0); // }\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    GlobalFunc.ongoing.lastPos = new Vec3(0, 0);\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 1, director.getScene().name, \"IsXianMaze\");\n  };\n\n  _proto.onEntry1 = function onEntry1(selfCollider, otherCollider, contact) {\n    GlobalFunc.ongoing.lastPos = new Vec3(0, 0);\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"IsXianWharf\");\n  } // update(deltaTime: number) {\n  //     // [4]\n  // }\n  ;\n\n  return IsXianValley;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"b06fcV0599EKI6tI2vPn12y\", \"startMenu\", undefined);\n\nimport { _decorator, Component, director, find, VideoPlayer, game, AudioSource, resources, AudioClip, Button, Label } from 'cc';\nimport { GlobalFunc } from './GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = startMenu\n * DateTime = Mon Apr 25 2022 21:44:29 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = startMenu.ts\n * FileBasenameNoExtension = startMenu\n * URL = db://assets/scripts/startMenu.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var startMenu = (_dec = ccclass('startMenu'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(startMenu, _Component);\n\n  function startMenu() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = startMenu.prototype;\n\n  // [1]\n  // dummy = '';\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.start = function start() {\n    // [3]\n    // 事先存到localStorage调试\n    GlobalFunc.savetoStorage();\n    GlobalFunc.saveSellItems();\n    GlobalFunc.saveMagics(); // 设置常驻bgm节点。与Canvas同级\n\n    game.addPersistRootNode(find(\"bgm\"));\n    this.node.getChildByName(\"preGame\").once(VideoPlayer.EventType.READY_TO_PLAY, this.onPlayVideo, this.node.getChildByName(\"preGame\"));\n    this.node.getChildByName(\"preGame\").once(VideoPlayer.EventType.COMPLETED, this.onSkip, this);\n    this.node.getChildByName(\"myDream\").once(VideoPlayer.EventType.READY_TO_PLAY, this.onPlayVideo, this.node.getChildByName(\"myDream\"));\n    this.node.getChildByName(\"myDream\").once(VideoPlayer.EventType.COMPLETED, this.onLoadNextScene, this);\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars/btProgress1\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars/btProgress2\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars/btProgress3\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars/btProgress4\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars/btProgress5\").on(Button.EventType.CLICK, this.onManageGameSaves, this);\n  };\n\n  _proto.onPlayVideo = function onPlayVideo() {\n    if (find(\"bgm\").getComponent(AudioSource).playing) {\n      find(\"bgm\").getComponent(AudioSource).pause();\n    }\n\n    console.log(this.name + \"开始播放\");\n    this.getComponent(VideoPlayer).play();\n  } // onCompleteVideo() {\n  //     console.log(\"preGame播放完成\");\n  //     this.node.getChildByName(\"preGame\").getComponent(VideoPlayer).destroy();\n  //     this.onSkip();\n  // }\n  ;\n\n  _proto.onLoadNextScene = function onLoadNextScene() {\n    console.log(\"切换myRoom场景\");\n    director.loadScene(\"myRoom\");\n  };\n\n  _proto.onSkip = function onSkip() {\n    console.log(\"视频跳过！/视频播放完成！\");\n\n    if (this.node.getChildByName(\"preGame\").active == true) {\n      this.node.getChildByName(\"preGame\").getComponent(VideoPlayer).destroy();\n      this.node.getChildByName(\"preGame\").active = false;\n      this.node.getChildByName(\"startMenu\").active = true; // bgm\n\n      resources.load(\"bgm/bgmStartMenu\", AudioClip, function (err, data) {\n        find(\"bgm\").getComponent(AudioSource).clip = data;\n        console.log(\"clip就绪\");\n        find(\"bgm\").getComponent(AudioSource).play();\n      });\n    }\n\n    if (this.node.getChildByName(\"myDream\").active == true) {\n      this.node.getChildByName(\"myDream\").getComponent(VideoPlayer).destroy();\n      this.node.getChildByName(\"myDream\").active = false;\n      console.log(\"切换myRoom场景\");\n      director.loadScene(\"myRoom\");\n    }\n\n    this.node.getChildByName(\"btSkip\").active = false;\n  };\n\n  _proto.onLoadGame = function onLoadGame(button) {\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars\").children.forEach(function (element) {\n      element.getChildByName(\"num\").getComponent(Label).string = GlobalFunc.getGameSaves(element.getSiblingIndex());\n    });\n    console.log(\"加载存档？\");\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btNewGame/btYesONo\").active = false;\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars\").active = true;\n  };\n\n  _proto.onManageGameSaves = function onManageGameSaves(button) {\n    if (button.node.getChildByName(\"num\").getComponent(Label).string != \"0\") {\n      // GlobalFunc.newGame();\n      GlobalFunc.loadGame(button.node.getSiblingIndex());\n    } else {\n      this.onButtonYes();\n    }\n  };\n\n  _proto.onNewGame = function onNewGame() {\n    console.log(\"确认开始？\");\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btNewGame/btYesONo\").active = true;\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btLoadGame/bars\").active = false;\n  };\n\n  _proto.onButtonYes = function onButtonYes() {\n    // 创建当前游戏数据，并存入localStorage\n    GlobalFunc.newGame(); // 预先加载scene\n\n    director.preloadScene(\"myRoom\");\n    console.log(\"开始新游戏\");\n    console.log(\"播放myDream\");\n    this.node.getChildByName(\"startMenu\").active = false;\n    this.node.getChildByName(\"myDream\").active = true;\n    this.node.getChildByName(\"btSkip\").active = true;\n  };\n\n  _proto.onButtonNo = function onButtonNo() {\n    console.log(\"取消开始\");\n    this.node.getChildByPath(\"startMenu/btNewNLoad/btNewGame/btYesONo\").active = false;\n  } // update(deltaTime: number) {\n  //     // [4]\n  // }\n  ;\n\n  return startMenu;\n}(Component)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"b2090JLKvNI3q173vJAWd0M\", \"hotelStore\", undefined);\n\nimport { _decorator, Component, Vec3, Prefab, instantiate, Collider2D, director, Contact2DType, Button, Animation, tween } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = hotelStore\n * DateTime = Thu May 05 2022 14:56:34 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = hotelStore.ts\n * FileBasenameNoExtension = hotelStore\n * URL = db://assets/scripts/hotelStore.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var hotelStore = (_dec = ccclass('hotelStore'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(hotelStore, _Component);\n\n  function hotelStore() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"jumpflag\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _defineProperty(_assertThisInitialized(_this), \"sceneTalks\", []);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = hotelStore.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(11, 0);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"hotel\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    console.log(\"hotelKitchen所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry0 = this.node.getChildByPath(\"map/entry0\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n    this.hero.getChildByName(\"dialogueBox\").active = false;\n    this.hero.getChildByName(\"ctrller\").active = true;\n    this.hero.getChildByName(\"hand\").active = true; // console.log(\"设置对话框1秒内不交互 结束\");\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {};\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n      this.map.setPosition(482, 344, 0);\n    }\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 1) {\n      this.map.setPosition(78.663, -428.939, 0);\n      this.jumpflag = 1;\n    }\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 3, director.getScene().name, \"hotel\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    var _this3 = this;\n\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      // if (this.searchRes[0].collider.node.name == \"npcLDN\") {\n      //     this.hero.getChildByName(\"dialogueBox\").active = true;\n      //     this.hero.getChildByName(\"ctrller\").active = false;\n      //     this.hero.getChildByName(\"hand\").active = false;\n      //     ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      //     this.talksCount++;\n      // }\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      if (this.searchRes[1].node.name == \"entry1\") {\n        this.node.getChildByPath(\"map/collider\").active = false;\n        tween(this.hero).by(5, {\n          position: new Vec3(0, 338, 0)\n        }, {\n          onStart: function onStart() {\n            _this3.hero.getComponent(Animation).play(\"climb\");\n          },\n          onComplete: function onComplete() {\n            _this3.hero.getComponent(Animation).stop();\n\n            GlobalFunc.ongoing.nextSceneEntryPos = 1;\n            GlobalFunc.ongoing.saveLocal();\n            director.loadScene(\"myRoom\");\n          }\n        }).start();\n        console.log(this.searchRes[1].node.name);\n        this.searchRes[1] = null;\n      }\n    }\n\n    if (this.jumpflag == 1) {\n      this.node.getChildByPath(\"map/collider\").active = false;\n      tween(this.hero).by(1, {\n        position: new Vec3(0, -176, 0)\n      }, {\n        onStart: function onStart() {\n          _this3.hero.getComponent(Animation).play(\"jump\");\n        },\n        onComplete: function onComplete() {\n          _this3.schedule(function () {\n            _this3.node.getChildByPath(\"map/collider\").active = true;\n          }, 0.5);\n\n          _this3.hero.getComponent(Animation).stop();\n        }\n      }).start();\n      this.jumpflag = 0;\n    }\n  };\n\n  return hotelStore;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"bb3f2WtCKtGeZUIqC5oKPHf\", \"IsXianWharf\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate, Collider2D, director, Contact2DType, Button, TiledMap } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = IsXianWharf\n * DateTime = Thu May 19 2022 21:54:43 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = IsXianWharf.ts\n * FileBasenameNoExtension = IsXianWharf\n * URL = db://assets/scripts/IsXian/IsXianWharf.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var IsXianWharf = (_dec = ccclass('IsXianWharf'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(IsXianWharf, _Component);\n\n  function IsXianWharf() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = IsXianWharf.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(16, 0);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    }\n\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    GlobalFunc.getStorageTalks(\"wharf\");\n    console.log(director.getScene().name + \"所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    director.preloadScene(\"IsXianValley\");\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry0 = this.node.getChildByPath(\"map/entry0\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n\n    if (GlobalFunc.ongoing.progress == 15) {\n      // GlobalFunc.changeBGM(\"bgmMtLing\", find(\"bgm\").getComponent(AudioSource));\n      this.talksCount = 0;\n      this.hero.getChildByName(\"dialogueBox\").active = true;\n      this.hero.getChildByName(\"ctrller\").active = false;\n      this.hero.getChildByName(\"hand\").active = false;\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {}\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < GlobalFunc.sceneTalks.length) {\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      console.log(\"没有对话\");\n      GlobalFunc.ongoing.progress++;\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {// if (GlobalFunc.ongoing.progress == 15) {\n    //     this.talksCount = 0;\n    //     this.hero.getChildByName(\"dialogueBox\").active = true;\n    //     this.hero.getChildByName(\"ctrller\").active = false;\n    //     this.hero.getChildByName(\"hand\").active = false;\n    // } else {\n    // }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n    // 新方法，软件导入进来的坐标没给x轴做处理，需要-1040（不知道是什么长度，估计是图片宽度（创建tmx文件默认的宽度）。\n    // if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n    //  this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1032) * 3.5, this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].y * 3.5, 0);\n\n    this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1032) * 3.5, (1048 - this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].offset.y) * 3.5, 0); // }\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 1, director.getScene().name, \"IsXianValley\");\n  };\n\n  _proto.onEntry1 = function onEntry1(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 2, director.getScene().name, \"villageMarket\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      // if (this.searchRes[0].collider.node.name == \"npcLDN\") {\n      //     this.hero.getChildByName(\"dialogueBox\").active = true;\n      //     this.hero.getChildByName(\"ctrller\").active = false;\n      //     this.hero.getChildByName(\"hand\").active = false;\n      //     ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      //     this.talksCount++;\n      // }\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      // this.node.getChildByPath(\"map/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return IsXianWharf;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d01d0puo85FWqivizM15dsb\", \"villageDrugs\", undefined);\n\nimport { _decorator, Component, Collider2D, director, Contact2DType, TiledMap } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { MainMenu } from '../MainMenu';\nimport { Seller } from '../Seller';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = villageDrugs\n * DateTime = Wed May 18 2022 00:25:58 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = villageDrugs.ts\n * FileBasenameNoExtension = villageDrugs\n * URL = db://assets/scripts/village/villageDrugs.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var villageDrugs = (_dec = ccclass('villageDrugs'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(villageDrugs, _Component);\n\n  function villageDrugs() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"currItemsIndex\", [0, 1, 2, 3, 4]);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    return _this;\n  }\n\n  var _proto = villageDrugs.prototype;\n\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(15, 0);\n    // GlobalFunc.ongoing.coins=6000;\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"village\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    }\n\n    this.layoutGameProgress();\n    this.setEntryPos();\n  };\n\n  _proto.start = function start() {\n    // [3]\n    var entry = this.node.getChildByPath(\"map/entry\").getComponent(Collider2D);\n\n    if (entry) {\n      entry.on(Contact2DType.BEGIN_CONTACT, this.onEntry, this);\n    }\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {};\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\");\n    this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1032) * 3.5, this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].y - 70, 0);\n  };\n\n  _proto.onEntry = function onEntry(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 4, director.getScene().name, \"village\");\n  };\n\n  _proto.onSellBoxExit = function onSellBoxExit() {\n    this.node.getChildByName(\"sellBox\").active = false;\n    this.hero.getChildByName(\"ctrller\").active = true;\n    this.hero.getChildByName(\"hand\").active = true;\n    console.log(\"现在包里有：\");\n    console.log(GlobalFunc.ongoing.bagItems);\n\n    if (GlobalFunc.ongoing.progress == 15) {\n      GlobalFunc.ongoing.addToBagItems(16); // 得到灵山仙芝\n\n      this.hero.getComponent(Controller).onFlashHint(\"得到：\" + this.hero.getChildByName(\"mainMenu\").getComponent(MainMenu).items[16].name);\n    }\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (this.searchRes[0].collider.node.name == \"npcDoctor\") {\n        this.node.getChildByName(\"sellBox\").setPosition(this.hero.getPosition());\n        this.node.getChildByName(\"sellBox\").getComponent(Seller).initLayout(this.currItemsIndex);\n        this.node.getChildByName(\"sellBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      // this.node.getChildByPath(\"map/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return villageDrugs;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d13c7CuiORJo4wxhqC2wS4p\", \"hotelRoom1\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate, Collider2D, director, Contact2DType, Button } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = hotelRoom1\n * DateTime = Fri May 06 2022 23:29:20 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = hotelRoom1.ts\n * FileBasenameNoExtension = hotelRoom1\n * URL = db://assets/scripts/hotelRoom1.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var hotelRoom1 = (_dec = ccclass('hotelRoom1'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(hotelRoom1, _Component);\n\n  function hotelRoom1() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = hotelRoom1.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(4, 0);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"hotel\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"maphotelRoom1\");\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    console.log(\"hotel所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry = this.node.getChildByPath(\"maphotelRoom1/entry\").getComponent(Collider2D);\n\n    if (entry) {\n      entry.on(Contact2DType.BEGIN_CONTACT, this.onEntry, this);\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n    this.hero.getChildByName(\"dialogueBox\").active = false;\n    this.hero.getChildByName(\"ctrller\").active = true;\n    this.hero.getChildByName(\"hand\").active = true; // console.log(\"设置对话框1秒内不交互 结束\");\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    var _this3 = this;\n\n    if (GlobalFunc.ongoing.progress > 2 && GlobalFunc.ongoing.progress < 10) {\n      this.node.getChildByName(\"miaoChief\").active = true;\n\n      if (GlobalFunc.ongoing.progress == 4) {\n        this.talksCount = 18;\n        this.schedule(function () {\n          GlobalFunc.changeSp(_this3.node.getChildByName(\"miaoChief\"), \"standum\");\n        }, 0.1);\n      }\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n      this.map.setPosition(540, 184, 0);\n\n      if (this.node.getChildByName(\"miaoChief\").active) {\n        this.node.getChildByName(\"miaoChief\").setPosition(this.node.getChildByName(\"miaoChief\").position.x + this.map.position.x, this.node.getChildByName(\"miaoChief\").position.y + this.map.position.y);\n      }\n    }\n  };\n\n  _proto.onEntry = function onEntry(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 4, director.getScene().name, \"hotel\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.hero.getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (this.searchRes[0].collider.node.name == \"miaoChief\" && GlobalFunc.ongoing.progress == 4) {\n        this.hero.getChildByName(\"dialogueBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n        ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n        GlobalFunc.ongoing.progress++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      //     this.node.getChildByPath(\"maphotelKitchen/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return hotelRoom1;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d3ea1BK7ZlIEZbwy56ugz0J\", \"hotelKitchen\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate, Collider2D, director, Contact2DType, Button } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = hotelKitchen\n * DateTime = Fri May 06 2022 17:24:48 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = hotelKitchen.ts\n * FileBasenameNoExtension = hotelKitchen\n * URL = db://assets/scripts/hotelKitchen.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var hotelKitchen = (_dec = ccclass('hotelKitchen'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(hotelKitchen, _Component);\n\n  function hotelKitchen() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = hotelKitchen.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(3, 0);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n    // GlobalFunc.getStorageTalks(\"hotel\");\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"maphotelKitchen\");\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    console.log(\"hotel所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.node.getChildByName(\"heroLXY\").addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话计数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry = this.node.getChildByPath(\"maphotelKitchen/entry\").getComponent(Collider2D);\n\n    if (entry) {\n      entry.on(Contact2DType.BEGIN_CONTACT, this.onEntry, this);\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount > 39 && this.talksCount < 45) {\n      if (this.talksCount == 41) {\n        console.log(\"得到50文。\");\n        GlobalFunc.ongoing.coins += 50;\n        this.hero.getComponent(Controller).onFlashHint(\"得到 50 文钱\");\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      // GlobalFunc.ongoing.progress++;\n      this.node.getChildByPath(\"heroLXY/dialogueBox\").active = false;\n      this.node.getChildByPath(\"heroLXY/ctrller\").active = true;\n      this.node.getChildByPath(\"heroLXY/hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    if (GlobalFunc.ongoing.progress > 2 && GlobalFunc.ongoing.progress < 12) {\n      if (GlobalFunc.ongoing.progress == 3) {\n        this.talksCount = 16;\n      } else {\n        if (GlobalFunc.ongoing.progress == 7) {\n          this.talksCount = 40;\n        }\n\n        this.node.getChildByPath(\"maphotelKitchen/dish\").active = false;\n      }\n    } else {\n      this.node.getChildByName(\"npcLDN\").active = false;\n      this.node.getChildByPath(\"maphotelKitchen/dish\").active = false;\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n      this.map.setPosition(-8, 404, 0);\n\n      if (this.node.getChildByName(\"npcLDN\").active) {\n        this.node.getChildByName(\"npcLDN\").setPosition(this.node.getChildByName(\"npcLDN\").position.x + this.map.position.x, this.node.getChildByName(\"npcLDN\").position.y + this.map.position.y);\n      }\n    }\n  };\n\n  _proto.onEntry = function onEntry(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 1, director.getScene().name, \"hotel\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    var _this3 = this;\n\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (this.searchRes[0].collider.node.name == \"npcLDN\" && GlobalFunc.ongoing.progress == 3) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n        GlobalFunc.ongoing.progress++;\n      }\n\n      if (this.searchRes[0].collider.node.name == \"npcLDN\" && GlobalFunc.ongoing.progress == 7) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n        GlobalFunc.ongoing.progress++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      if (this.searchRes[1].node.name == \"dish\" && GlobalFunc.ongoing.progress == 4) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n        this.schedule(function () {\n          _this3.node.getChildByPath(\"heroLXY/dialogueBox\").active = false;\n          _this3.node.getChildByPath(\"heroLXY/ctrller\").active = true;\n          _this3.node.getChildByPath(\"heroLXY/hand\").active = true;\n        }, 0.99);\n        this.node.getChildByPath(\"maphotelKitchen/dish\").active = false;\n        GlobalFunc.changeSp(this.hero, \"serveDish\"); // GlobalFunc.ongoing.progress++;\n      }\n\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return hotelKitchen;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _descriptor3, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d5176p1pIZDBZHwRC5YI2mI\", \"NpcControl\", undefined);\n\nimport { _decorator, Component, Vec3, Animation, tween } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = NpcControl\n * DateTime = Sun May 01 2022 20:10:39 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = NpcControl.ts\n * FileBasenameNoExtension = NpcControl\n * URL = db://assets/scripts/NpcControl.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var NpcControl = (_dec = ccclass('NpcControl'), _dec2 = property(Vec3), _dec3 = property(Vec3), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(NpcControl, _Component);\n\n  function NpcControl() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"deltaTimeCount\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dirX\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dirY\", 0);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"npcSpeed\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"getMoveBy\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"getMoveTo\", _descriptor3, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = NpcControl.prototype;\n\n  _proto.start = function start() {// [3]\n  };\n\n  _proto.npcMoveBy = function npcMoveBy() {\n    var _this2 = this;\n\n    // runAction在3.x版本已弃用\n    tween(this.node).by(1, {\n      position: this.getMoveBy\n    }, {\n      // onStart: (target?: object) => {\n      // },\n      onComplete: function onComplete() {\n        _this2.onStopAnim();\n      }\n    }).start();\n  };\n\n  _proto.npcMoveTo = function npcMoveTo() {\n    var _this3 = this;\n\n    // runAction在3.x版本已弃用\n    tween(this.node).to(1, {\n      position: this.getMoveTo\n    }, {\n      // onStart: (target?: object) => {\n      // },\n      onComplete: function onComplete() {\n        _this3.onStopAnim();\n      }\n    }).start();\n  };\n\n  _proto.onPlayAnim = function onPlayAnim(name) {\n    this.node.getComponent(Animation).play(name);\n  };\n\n  _proto.onStopAnim = function onStopAnim() {\n    this.node.getComponent(Animation).stop();\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    // 位置改变，执行moveBy，getMoveBy清空\n    if (this.getMoveBy != null) {\n      this.npcMoveBy();\n      console.log(\"npc相对移动\");\n      this.dirX = this.getMoveBy.x;\n      this.dirY = this.getMoveBy.y;\n\n      if (this.dirX > 0 && this.dirY > 0) {\n        this.onPlayAnim(\"up\");\n      }\n\n      if (this.dirX > 0 && this.dirY < 0) {\n        this.onPlayAnim(\"right\");\n      }\n\n      if (this.dirX < 0 && this.dirY > 0) {\n        this.onPlayAnim(\"left\");\n      }\n\n      if (this.dirX < 0 && this.dirY < 0) {\n        this.onPlayAnim(\"down\");\n      }\n\n      this.getMoveBy = null;\n    }\n\n    if (this.getMoveTo != null) {\n      this.npcMoveTo();\n      console.log(\"npc走到指定点\");\n      this.dirX = this.getMoveTo.x - this.node.position.x;\n      this.dirY = this.getMoveTo.y - this.node.position.y;\n\n      if (this.dirX > 0 && this.dirY > 0) {\n        this.onPlayAnim(\"up\");\n      }\n\n      if (this.dirX > 0 && this.dirY < 0) {\n        this.onPlayAnim(\"right\");\n      }\n\n      if (this.dirX < 0 && this.dirY > 0) {\n        this.onPlayAnim(\"left\");\n      }\n\n      if (this.dirX < 0 && this.dirY < 0) {\n        this.onPlayAnim(\"down\");\n      }\n\n      this.getMoveTo = null;\n    }\n  };\n\n  return NpcControl;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"npcSpeed\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"getMoveBy\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"getMoveTo\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"dc6d4VHXpJKx7GqRz7TrTPC\", \"GameProgress\", undefined);\n\nimport { _decorator, Component, sys, Vec3, find } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = GameProgress\n * DateTime = Tue May 03 2022 20:03:24 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = GameProgress.ts\n * FileBasenameNoExtension = GameProgress\n * URL = db://assets/scripts/GameProgress.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var GameProgress = (_dec = ccclass('GameProgress'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(GameProgress, _Component);\n\n  function GameProgress() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_progress\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_nextSceneEntryPos\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_coins\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"savedCount\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"currBGM\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"bgmFlag\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastPos\", new Vec3(0, 0, 0));\n\n    _defineProperty(_assertThisInitialized(_this), \"lastScene\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"killedEnemies\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"heroactive\", [1, 0, 0, 0]);\n\n    _defineProperty(_assertThisInitialized(_this), \"herolevel\", [0, 0, 0, 0]);\n\n    _defineProperty(_assertThisInitialized(_this), \"herostate\", [150, 100]);\n\n    _defineProperty(_assertThisInitialized(_this), \"herocurrstate\", [90, 70]);\n\n    _defineProperty(_assertThisInitialized(_this), \"bagItems\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"currMagics\", [0]);\n\n    return _this;\n  }\n\n  var _proto = GameProgress.prototype;\n\n  _proto.saveLocal = function saveLocal() {\n    // 暂存本地\n    this.lastScene = find(\"Canvas\").parent.name;\n    console.log(this.bagItems);\n    var json = JSON.stringify(this);\n    console.log(json);\n    sys.localStorage.setItem(\"ongoing\", json);\n  };\n\n  _proto.readLocal = function readLocal() {\n    // 每次切换场景读取当前游戏数据\n    console.log(sys.localStorage.getItem(\"ongoing\"));\n    Object.assign(this, JSON.parse(sys.localStorage.getItem(\"ongoing\")));\n  };\n\n  _proto.saveGame = function saveGame() {};\n\n  _proto.addToBagItems = function addToBagItems(itemIndex) {\n    var mapitems = new Map(this.bagItems);\n\n    if (mapitems.has(itemIndex)) {\n      mapitems.set(itemIndex, mapitems.get(itemIndex) + 1);\n    } else {\n      mapitems.set(itemIndex, 1);\n    }\n\n    this.bagItems = Array.from(mapitems);\n    console.log(this.bagItems);\n  };\n\n  _proto.hasBagItem = function hasBagItem(itemIndex) {\n    var mapitems = new Map(this.bagItems);\n\n    if (mapitems.has(itemIndex)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  _proto.getBagItem = function getBagItem(itemIndex) {\n    var mapitems = new Map(this.bagItems);\n    return mapitems.get(itemIndex);\n  };\n\n  _createClass(GameProgress, [{\n    key: \"progress\",\n    get: // currMagics = [0, 1];\n    // [2]\n    // @property\n    // serializableDummy = 0;\n    // constructor(num?:number){\n    //     super();\n    //     this.bagItems.set(0,0);\n    // }\n    function get() {\n      return this._progress;\n    },\n    set: function set(value) {\n      if (value < 0) {\n        this._progress = 0;\n      } else {\n        this._progress = value;\n      }\n\n      console.log(\"进度+1,现在=\" + this._progress);\n    }\n  }, {\n    key: \"nextSceneEntryPos\",\n    get: function get() {\n      return this._nextSceneEntryPos;\n    },\n    set: function set(value) {\n      if (value < 0) {\n        this._nextSceneEntryPos = 0;\n      } else {\n        this._nextSceneEntryPos = value;\n      }\n    }\n  }, {\n    key: \"coins\",\n    get: function get() {\n      return this._coins;\n    },\n    set: function set(value) {\n      this._coins = value;\n      console.log(\"现有金钱=\" + this._coins);\n    }\n  }]);\n\n  return GameProgress;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"e894f7Abn9HA5Let75/2pus\", \"preGame\", undefined);\n\nimport { _decorator, Component, VideoPlayer, director } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = preGame\n * DateTime = Tue Apr 26 2022 19:23:42 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = preGame.ts\n * FileBasenameNoExtension = preGame\n * URL = db://assets/scripts/preGame.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var preGame = (_dec = ccclass('preGame'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(preGame, _Component);\n\n  function preGame() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = preGame.prototype;\n\n  // [1]\n  // dummy = '';\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.start = function start() {\n    var _this = this;\n\n    // [3]\n    this.node.getChildByName(\"softStar\").once(VideoPlayer.EventType.READY_TO_PLAY, function () {\n      console.log(_this.node.getChildByName(\"softStar\").name + \"开始播放\");\n\n      _this.node.getChildByName(\"softStar\").getComponent(VideoPlayer).play();\n    }, this);\n    this.node.getChildByName(\"softStar\").once(VideoPlayer.EventType.COMPLETED, function () {\n      console.log(\"播放完成\");\n\n      _this.node.getChildByName(\"softStar\").getComponent(VideoPlayer).destroy();\n\n      _this.node.getChildByName(\"btSkip\").active = false;\n      console.log(\"切换starMenu场景\");\n      director.loadScene(\"startMenu\");\n    }, this);\n  };\n\n  _proto.onStatement = function onStatement() {\n    console.log(\"继续>>>\");\n    this.node.getChildByName(\"statement\").active = false;\n    this.node.getChildByName(\"softStar\").active = true;\n    this.node.getChildByName(\"btSkip\").active = true;\n  };\n\n  _proto.onSkip = function onSkip() {\n    console.log(\"视频跳过！/视频播放完成！\");\n    this.node.getChildByName(\"softStar\").getComponent(VideoPlayer).destroy();\n    this.node.getChildByName(\"softStar\").active = false;\n    this.node.getChildByName(\"btSkip\").active = false;\n    console.log(\"切换starMenu场景\");\n    director.loadScene(\"startMenu\");\n  } // update (deltaTime: number) {\n  //     // [4]\n  // }\n  ;\n\n  return preGame;\n}(Component)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"f13d439mSNIgbPGeOTuMVJc\", \"hotel\", undefined);\n\nimport { _decorator, Component, Vec3, Collider2D, director, Contact2DType, Prefab, instantiate, Button, UITransform, Animation } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { MainMenu } from '../MainMenu';\nimport { NpcControl } from '../NpcControl';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = hotel\n * DateTime = Wed May 04 2022 23:51:03 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = hotel.ts\n * FileBasenameNoExtension = hotel\n * URL = db://assets/scripts/hotel.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var hotel = (_dec = ccclass('hotel'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(hotel, _Component);\n\n  function hotel() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _defineProperty(_assertThisInitialized(_this), \"sceneTalks\", []);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = hotel.prototype;\n\n  // @property(JsonAsset)\n  // itemGiftJson: JsonAsset = null!;\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress);\n    console.log(GlobalFunc.ongoing.bagItems); // 调试用\n    // GlobalFunc._newGame(14, 2);\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"maphotel\");\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    GlobalFunc.getStorageTalks(\"hotel\");\n    console.log(\"hotel所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.node.getChildByName(\"heroLXY\").addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n\n    if (GlobalFunc.ongoing.progress == 1) {\n      this.node.getChildByName(\"miao1\").active = true;\n      this.node.getChildByName(\"miao2\").active = true;\n      this.node.getChildByName(\"miaoChief\").active = true;\n      this.node.getChildByName(\"npcLDN\").active = true;\n      console.log(\"对话开始\");\n      this.talksCount = 0; // 各人物初始状态\n\n      this.schedule(function () {\n        GlobalFunc.changeSp(_this2.node.getChildByName(\"npcLDN\"), \"standlldn\");\n      }, 0.2);\n    } else if (GlobalFunc.ongoing.progress >= 2 && GlobalFunc.ongoing.progress <= 6) {\n      console.log(\"其他进度\");\n    } else {\n      this.node.getChildByName(\"npcTao\").active = false;\n    }\n\n    console.log(\"现在对话计数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    // let herocollider = this.node.getChildByName(\"heroLXY\").getComponent(Collider2D);\n    // if (herocollider) {\n    //     herocollider.on(Contact2DType.BEGIN_CONTACT, this.onHotelTalk, this);\n    // }\n    if (GlobalFunc.ongoing.progress == 14) {\n      this.talksCount = 0;\n      GlobalFunc.getStorageTalks(\"preIsXian\");\n      console.log(\"preIsXian所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n      console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n\n      this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak1, this);\n    } else {\n      this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    }\n\n    var entry0 = this.node.getChildByPath(\"maphotel/entry0\").getComponent(Collider2D);\n    var entry1 = this.node.getChildByPath(\"maphotel/entry1\").getComponent(Collider2D);\n    var entry2 = this.node.getChildByPath(\"maphotel/entry2\").getComponent(Collider2D);\n    var entry3 = this.node.getChildByPath(\"maphotel/entry3\").getComponent(Collider2D);\n    var entry4 = this.node.getChildByPath(\"maphotel/entry4\").getComponent(Collider2D);\n    var entry5 = this.node.getChildByPath(\"maphotel/entry5\").getComponent(Collider2D);\n    var entry6 = this.node.getChildByPath(\"maphotel/entry6\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n\n    if (entry1) {\n      entry1.on(Contact2DType.BEGIN_CONTACT, this.onEntry1, this);\n    }\n\n    if (entry2) {\n      entry2.on(Contact2DType.BEGIN_CONTACT, this.onEntry2, this);\n    }\n\n    if (entry3) {\n      entry3.on(Contact2DType.BEGIN_CONTACT, this.onEntry3, this);\n    }\n\n    if (entry4) {\n      entry4.on(Contact2DType.BEGIN_CONTACT, this.onEntry4, this);\n    }\n\n    if (entry5) {\n      entry5.on(Contact2DType.BEGIN_CONTACT, this.onEntry5, this);\n    }\n\n    if (entry6) {\n      entry6.on(Contact2DType.BEGIN_CONTACT, this.onEntry6, this);\n    }\n  };\n\n  _proto.onNextSpeak1 = function onNextSpeak1() {\n    var _this3 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < GlobalFunc.sceneTalks.length) {\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      GlobalFunc.ongoing.addToBagItems(15); // 得到破天槌\n\n      this.hero.getComponent(Controller).onFlashHint(\"得到：\" + this.hero.getChildByName(\"mainMenu\").getComponent(MainMenu).items[15].name);\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n      GlobalFunc.ongoing.progress++;\n      this.node.getChildByName(\"npcMiao\").active = false;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this3.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this4 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < 10) {\n      if (this.talksCount == 3) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-1246, 633);\n      }\n\n      if (this.talksCount == 4) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-1450, 531);\n      }\n\n      if (this.talksCount == 5) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-1053, 141);\n      }\n\n      if (this.talksCount == 6) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-723, -26);\n        this.node.getChildByPath(\"miao2\").getComponent(NpcControl).getMoveBy = new Vec3(80, 40);\n      }\n\n      if (this.talksCount == 7) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-1455, -392);\n        this.node.getChildByPath(\"miao1\").getComponent(NpcControl).getMoveTo = new Vec3(-905, 456);\n        this.node.getChildByPath(\"miao2\").getComponent(NpcControl).getMoveTo = new Vec3(-840, 384);\n        this.schedule(function () {\n          GlobalFunc.changeSp(_this4.node.getChildByName(\"npcLDN\"), \"standdldn\");\n        }, 0.2);\n      }\n\n      if (this.talksCount == 8) {\n        this.node.getChildByPath(\"miaoChief\").getComponent(NpcControl).getMoveBy = new Vec3(158, 95);\n        this.schedule(function () {\n          _this4.node.getChildByName(\"miaoChief\").active = false;\n        }, 1); // miao1miao2位置不对，因为挂到了npc节点上统一管理了，导致本地坐标不对\n\n        this.node.getChildByPath(\"miao1\").getComponent(NpcControl).getMoveTo = new Vec3(-552, 275);\n        this.node.getChildByPath(\"miao2\").getComponent(NpcControl).getMoveTo = new Vec3(-552, 239);\n      }\n\n      if (this.talksCount == 9) {\n        this.node.getChildByPath(\"miao1\").getComponent(NpcControl).getMoveBy = new Vec3(140, 70);\n        this.node.getChildByPath(\"miao2\").getComponent(NpcControl).getMoveBy = new Vec3(180, 90);\n        this.schedule(function () {\n          _this4.node.getChildByName(\"miao1\").active = false;\n          _this4.node.getChildByName(\"miao2\").active = false;\n        }, 1);\n        GlobalFunc.ongoing.progress++;\n        GlobalFunc.ongoing.coins += 500;\n        this.hero.getComponent(Controller).onFlashHint(\"得到 500 文钱\");\n        console.log(\"当前进度：\" + GlobalFunc.ongoing.progress);\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else if (this.talksCount == 11) {\n      this.node.getChildByPath(\"heroLXY/dialogueBox\").active = false;\n      this.node.getChildByPath(\"heroLXY/ctrller\").active = true;\n      this.node.getChildByPath(\"heroLXY/hand\").active = true;\n      this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-2072, -84);\n    } else if (this.talksCount > 11 && this.talksCount < 16) {\n      if (this.talksCount == 12) {\n        this.node.getChildByName(\"npcLDN\").getComponent(NpcControl).getMoveTo = new Vec3(-1550, 177);\n      }\n\n      if (this.talksCount == 13) {\n        this.node.getChildByName(\"npcLDN\").active = false;\n      }\n\n      if (this.talksCount == 15) {\n        GlobalFunc.ongoing.progress++;\n        console.log(\"当前进度：\" + GlobalFunc.ongoing.progress);\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else if (this.talksCount > 26 && this.talksCount < 40) {\n      if (this.talksCount == 27) {\n        this.node.getChildByName(\"npcTao\").getComponent(Animation).stop();\n        this.node.getChildByName(\"npcTao\").getComponent(UITransform).setContentSize(19, 50);\n        this.schedule(function () {\n          GlobalFunc.changeSp(_this4.node.getChildByName(\"npcTao\"), \"tao\");\n        }, 0.2);\n      }\n\n      if (this.talksCount == 37) {\n        this.node.getChildByName(\"npcTao\").active = false;\n      }\n\n      if (this.talksCount == 39) {\n        GlobalFunc.ongoing.progress++;\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      this.node.getChildByPath(\"heroLXY/dialogueBox\").active = false;\n      this.node.getChildByPath(\"heroLXY/ctrller\").active = true;\n      this.node.getChildByPath(\"heroLXY/hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this4.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 7) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"village\");\n    }\n  };\n\n  _proto.onEntry1 = function onEntry1(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 2) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"hotelKitchen\");\n    }\n  };\n\n  _proto.onEntry2 = function onEntry2(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 10) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"hotelRoom3\");\n    }\n  };\n\n  _proto.onEntry3 = function onEntry3(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 7) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"hotelStore\");\n    }\n  };\n\n  _proto.onEntry4 = function onEntry4(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 3) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"hotelRoom1\");\n    }\n  };\n\n  _proto.onEntry5 = function onEntry5(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 3) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"hotelRoom2\");\n    }\n  };\n\n  _proto.onEntry6 = function onEntry6(selfCollider, otherCollider, contact) {\n    if (GlobalFunc.ongoing.progress > 3) {\n      GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"myRoom\");\n    }\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    if (GlobalFunc.ongoing.progress == 4) {\n      this.talksCount = 18;\n    } else if (GlobalFunc.ongoing.progress == 5) {\n      this.talksCount = 19;\n    } else if (GlobalFunc.ongoing.progress == 6) {\n      this.talksCount = 26;\n    } else {}\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n\n    if (GlobalFunc.ongoing.nextSceneEntryPos == 6) {\n      // this.hero.setPosition(1238, 118, 0);\n      // this.hero.setWorldPosition(1850, 415, 0);\n      this.map.setPosition(-1238, -118, 0); // 注意有些地图不是（0，0）初始位置\n\n      if (GlobalFunc.ongoing.progress == 1) {\n        this.node.getChildByName(\"miao1\").setPosition(this.node.getChildByName(\"miao1\").position.x + this.map.position.x, this.node.getChildByName(\"miao1\").position.y + this.map.position.y);\n        this.node.getChildByName(\"miao2\").setPosition(this.node.getChildByName(\"miao2\").position.x + this.map.position.x, this.node.getChildByName(\"miao2\").position.y + this.map.position.y);\n        this.node.getChildByName(\"miaoChief\").setPosition(this.node.getChildByName(\"miaoChief\").position.x + this.map.position.x, this.node.getChildByName(\"miaoChief\").position.y + this.map.position.y);\n        this.node.getChildByName(\"npcLDN\").setPosition(this.node.getChildByName(\"npcLDN\").position.x + this.map.position.x, this.node.getChildByName(\"npcLDN\").position.y + this.map.position.y);\n        this.node.getChildByName(\"npcTao\").setPosition(this.node.getChildByName(\"npcTao\").position.x + this.map.position.x, this.node.getChildByName(\"npcTao\").position.y + this.map.position.y);\n      }\n    } else if (GlobalFunc.ongoing.nextSceneEntryPos == 1) {\n      this.map.setPosition(655, -175, 0);\n\n      if (GlobalFunc.ongoing.progress <= 6) {\n        this.node.getChildByName(\"npcTao\").setPosition(this.node.getChildByName(\"npcTao\").position.x + this.map.position.x, this.node.getChildByName(\"npcTao\").position.y + this.map.position.y);\n      }\n    } else if (GlobalFunc.ongoing.nextSceneEntryPos == 4) {\n      this.map.setPosition(-144, -654, 0);\n\n      if (GlobalFunc.ongoing.progress <= 6) {\n        this.node.getChildByName(\"npcTao\").setPosition(this.node.getChildByName(\"npcTao\").position.x + this.map.position.x, this.node.getChildByName(\"npcTao\").position.y + this.map.position.y);\n      }\n    } else if (GlobalFunc.ongoing.nextSceneEntryPos == 5) {\n      this.map.setPosition(-700, -378, 0);\n\n      if (GlobalFunc.ongoing.progress <= 6) {\n        this.node.getChildByName(\"npcTao\").setPosition(this.node.getChildByName(\"npcTao\").position.x + this.map.position.x, this.node.getChildByName(\"npcTao\").position.y + this.map.position.y);\n      }\n    } else if (GlobalFunc.ongoing.nextSceneEntryPos == 2) {\n      this.map.setPosition(-265, -274, 0);\n\n      if (GlobalFunc.ongoing.progress <= 6) {\n        this.node.getChildByName(\"npcTao\").setPosition(this.node.getChildByName(\"npcTao\").position.x + this.map.position.x, this.node.getChildByName(\"npcTao\").position.y + this.map.position.y);\n      }\n\n      if (GlobalFunc.ongoing.progress == 14) {\n        this.node.getChildByName(\"npcMiao\").active = true;\n        this.node.getChildByName(\"npcMiao\").setPosition(this.node.getChildByName(\"npcMiao\").position.x + this.map.position.x, this.node.getChildByName(\"npcMiao\").position.y + this.map.position.y);\n      }\n    } else if (GlobalFunc.ongoing.nextSceneEntryPos == 3) {\n      this.map.setPosition(-800, 0, 0);\n\n      if (GlobalFunc.ongoing.progress <= 6) {\n        this.node.getChildByName(\"npcTao\").setPosition(this.node.getChildByName(\"npcTao\").position.x + this.map.position.x, this.node.getChildByName(\"npcTao\").position.y + this.map.position.y);\n      }\n    } else if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n      this.map.setPosition(610, 466, 0);\n    }\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes(); // console.log(this.searchRes);\n    // 这里有错误 null\n\n    if (this.searchRes[0] != null && this.searchRes[0].collider.node.name == \"npcLDN\") {\n      if (this.talksCount == 0 || this.talksCount == 10) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    } else if (this.searchRes[0] != null && this.searchRes[0].collider.node.name == \"npcTao\") {\n      if (GlobalFunc.ongoing.progress == 2 && this.talksCount == 11) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      } else if (GlobalFunc.ongoing.progress == 6 && this.talksCount == 26) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      this.searchRes[0] = null;\n    } else if (this.searchRes[0] != null && this.searchRes[0].collider.node.name == \"npcMiao\") {\n      if (GlobalFunc.ongoing.progress == 14) {\n        this.node.getChildByPath(\"heroLXY/dialogueBox\").active = true;\n        this.node.getChildByPath(\"heroLXY/ctrller\").active = false;\n        this.node.getChildByPath(\"heroLXY/hand\").active = false;\n        ShowTalk.haveTalks(this.node.getChildByPath(\"heroLXY/dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return hotel;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"f5dbdB/HEhDwpYV78KlZ0jb\", \"village\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate, Collider2D, director, Contact2DType, Button, TiledMap, find, AudioSource } from 'cc';\nimport { Controller } from '../Controller';\nimport { GlobalFunc } from '../GlobalFunc';\nimport { MainMenu } from '../MainMenu';\nimport { ShowTalk } from '../ShowTalk';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = village\n * DateTime = Sun May 08 2022 17:57:52 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = village.ts\n * FileBasenameNoExtension = village\n * URL = db://assets/scripts/village/village.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var village = (_dec = ccclass('village'), _dec2 = property(Prefab), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(village, _Component);\n\n  function village() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchRes\", [null, null]);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"entrypos\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"talktoXiu\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"talktoXiang\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"talksCount\", 99);\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"dialogueBox\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = village.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // if (PhysicsSystem2D.instance.debugDrawFlags == 0) {\n    //     PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n    // }\n    // 读取进度数据\n    console.log(\"未读取前进度：\" + GlobalFunc.ongoing.progress);\n    GlobalFunc.ongoing.readLocal();\n    console.log(\"读取后进度：\" + GlobalFunc.ongoing.progress); // 调试用，每个场景需要去\n    // GlobalFunc._newGame(15, 0);\n    // GlobalFunc.ongoing.coins = 6000;\n    // console.log(\"调试用进度：\" + GlobalFunc.ongoing.progress);\n    // console.log(\"调试用出口：\" + GlobalFunc.ongoing.nextSceneEntryPos);\n\n    this.hero = this.node.getChildByName(\"heroLXY\");\n    this.map = this.node.getChildByName(\"map\");\n    this.entrypos = this.map.getComponent(TiledMap).getObjectGroup(\"entrypos\").getObjects();\n    console.log(this.entrypos);\n\n    for (var i = 0; i < this.entrypos.length; i++) {\n      var element = this.entrypos[i];\n      console.log(element.x, element.y);\n    }\n\n    this.layoutGameProgress();\n    this.setEntryPos(); // 加载对话等数据\n\n    GlobalFunc.getStorageTalks(\"village\");\n    console.log(director.getScene().name + \"所有对话：\"); // string+对象，会把对象转成string显示，会出错\n\n    console.log(GlobalFunc.sceneTalks); // 比如= kkk：[Object, Object]\n    // 对话框实例化\n\n    var dialBox = instantiate(this.dialogueBox);\n    this.hero.addChild(dialBox);\n    dialBox.active = false;\n    console.log(dialBox.name + \"加载成功\");\n    console.log(\"现在对话数=\" + this.talksCount);\n  };\n\n  _proto.start = function start() {\n    // [3]\n    this.hero.getChildByName(\"dialogueBox\").on(Button.EventType.CLICK, this.onNextSpeak, this);\n    var entry0 = this.node.getChildByPath(\"map/entry0\").getComponent(Collider2D);\n\n    if (entry0) {\n      entry0.on(Contact2DType.BEGIN_CONTACT, this.onEntry0, this);\n    }\n\n    var entry1 = this.node.getChildByPath(\"map/entry1\").getComponent(Collider2D);\n\n    if (entry1) {\n      entry1.on(Contact2DType.BEGIN_CONTACT, this.onEntry1, this);\n    }\n\n    var onXiang = this.node.getChildByPath(\"map/onXiang\").getComponent(Collider2D);\n\n    if (onXiang) {\n      onXiang.on(Contact2DType.BEGIN_CONTACT, this.onXiang, this);\n    }\n\n    var entry4 = this.node.getChildByPath(\"map/entry4\").getComponent(Collider2D);\n\n    if (entry4) {\n      entry4.on(Contact2DType.BEGIN_CONTACT, this.onEntry4, this);\n    }\n  };\n\n  _proto.onNextSpeak = function onNextSpeak() {\n    var _this2 = this;\n\n    // 设置对话框1秒内不交互\n    this.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = false;\n\n    if (this.talksCount < 4 || this.talksCount >= 7 && this.talksCount < 10 && this.talktoXiang) {\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else if (this.talksCount == 4 && this.talktoXiu == false) {\n      this.talktoXiu = true;\n      GlobalFunc.ongoing.progress++;\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } else if (this.talktoXiu && this.talksCount > 3 && this.talksCount < 7) {\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else if (this.talksCount == 7 && this.talktoXiang == false) {\n      this.talktoXiang = true;\n      GlobalFunc.ongoing.progress++;\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } else if (this.talksCount == 10) {\n      GlobalFunc.ongoing.progress++;\n      GlobalFunc.ongoing.addToBagItems(8); // 得到布鞋\n\n      this.hero.getComponent(Controller).onFlashHint(\"得到：\" + this.hero.getChildByName(\"mainMenu\").getComponent(MainMenu).items[8].name);\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } else if (this.talksCount > 10 && this.talksCount < GlobalFunc.sceneTalks.length) {\n      if (this.talksCount == GlobalFunc.sceneTalks.length - 1) {\n        GlobalFunc.ongoing.progress++;\n        this.node.getChildByPath(\"map/onXiang\").active = false;\n        GlobalFunc.changeBGM(\"bgmLdnIlled\", find(\"bgm\").getComponent(AudioSource));\n      }\n\n      console.log(\"当前第\" + this.talksCount + \"句，共\" + GlobalFunc.sceneTalks.length + \"句\");\n      console.log(GlobalFunc.sceneTalks[this.talksCount].msg);\n      ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      this.talksCount++;\n    } else {\n      console.log(\"没有对话\");\n      this.hero.getChildByName(\"dialogueBox\").active = false;\n      this.hero.getChildByName(\"ctrller\").active = true;\n      this.hero.getChildByName(\"hand\").active = true;\n    } // console.log(\"设置对话框1秒内不交互 结束\");\n\n\n    this.scheduleOnce(function () {\n      _this2.hero.getChildByName(\"dialogueBox\").getComponent(Button).interactable = true;\n    }, 1);\n  };\n\n  _proto.layoutGameProgress = function layoutGameProgress() {\n    if (GlobalFunc.ongoing.progress == 8) {\n      this.talksCount = 0;\n      GlobalFunc.changeBGM(\"bgmVillage\", find(\"bgm\").getComponent(AudioSource));\n    }\n\n    if (GlobalFunc.ongoing.progress == 9) {\n      this.talksCount = 4;\n      this.talktoXiu = true;\n    }\n\n    if (GlobalFunc.ongoing.progress == 10) {\n      this.talksCount = 7;\n      this.talktoXiu = true;\n      this.talktoXiang = true;\n    }\n\n    if (GlobalFunc.ongoing.progress == 12) {\n      this.node.getChildByPath(\"map/onXiang\").active = true;\n      this.node.getChildByName(\"npcXiang\").setPosition(2265, -1223, 0);\n      this.talksCount = 11; // this.hero.getChildByName(\"dialogueBox\").active = true;\n      // this.hero.getChildByName(\"ctrller\").active = false;\n      // this.hero.getChildByName(\"hand\").active = false;\n      // ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n      // this.talksCount++;\n    }\n\n    if (GlobalFunc.ongoing.progress >= 15) {\n      this.node.getChildByPath(\"map/entry4\").active = true;\n    }\n  };\n\n  _proto.setEntryPos = function setEntryPos() {\n    console.log(\"进入 \" + GlobalFunc.ongoing.nextSceneEntryPos + \" 口\"); // 切换场景，设置主角位置，镜头不动\n    // 通过改变map位置（主角位置取反），可解决，同时map下的刚体也一起移动了。\n    // 新方法,软件导入进来的坐标没给x轴做处理，需要-1040（不知道是什么长度，估计是图片宽度（创建tmx文件默认的宽度）。\n    // if (GlobalFunc.ongoing.nextSceneEntryPos == 0) {\n\n    this.hero.setPosition((this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].x - 1040) * 3.5, this.entrypos[GlobalFunc.ongoing.nextSceneEntryPos].y * 3.5, 0); // }\n  };\n\n  _proto.onXiang = function onXiang() {\n    // this.node.getChildByPath(\"map/onXiang\").active = false;\n    this.hero.getComponent(Controller).onStop();\n    this.hero.getChildByName(\"dialogueBox\").active = true;\n    this.hero.getChildByName(\"ctrller\").active = false;\n    this.hero.getChildByName(\"hand\").active = false;\n    ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n    this.talksCount++;\n  };\n\n  _proto.onEntry0 = function onEntry0(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"hotel\");\n  };\n\n  _proto.onEntry1 = function onEntry1(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 3, director.getScene().name, \"villageMarket\");\n  };\n\n  _proto.onEntry4 = function onEntry4(selfCollider, otherCollider, contact) {\n    GlobalFunc.whichEntry(\"heroLXY\", otherCollider, selfCollider, 0, director.getScene().name, \"villageDrugs\");\n  };\n\n  _proto.update = function update(deltaTime) {\n    // [4]\n    this.searchRes = this.node.getChildByName(\"heroLXY\").getComponent(Controller).onGetSearchRes();\n\n    if (this.searchRes[0] != null) {\n      if (this.searchRes[0].collider.node.name == \"npcXiu\") {\n        if (GlobalFunc.ongoing.progress == 8 || GlobalFunc.ongoing.progress == 10) {\n          if (this.talktoXiang) {\n            this.talksCount = 7;\n          }\n\n          this.hero.getChildByName(\"dialogueBox\").active = true;\n          this.hero.getChildByName(\"ctrller\").active = false;\n          this.hero.getChildByName(\"hand\").active = false;\n          ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n          this.talksCount++;\n        }\n      } else if (this.searchRes[0].collider.node.name == \"npcXiang\" && GlobalFunc.ongoing.progress == 9) {\n        this.hero.getChildByName(\"dialogueBox\").active = true;\n        this.hero.getChildByName(\"ctrller\").active = false;\n        this.hero.getChildByName(\"hand\").active = false;\n        ShowTalk.haveTalks(this.hero.getChildByName(\"dialogueBox\"), GlobalFunc.sceneTalks[this.talksCount]);\n        this.talksCount++;\n      }\n\n      console.log(this.searchRes[0].collider.node.name);\n      this.searchRes[0] = null;\n    }\n\n    if (this.searchRes[1] != null) {\n      // if (this.searchRes[1].node.name == \"dish\") {\n      // this.node.getChildByPath(\"map/dish\").active = false;\n      // }\n      console.log(this.searchRes[1].node.name);\n      this.searchRes[1] = null;\n    }\n  };\n\n  return village;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"dialogueBox\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"f5f5aemzhVBVoioogdt5LrP\", \"battlefield\", undefined);\n\nimport { _decorator, Component, director, SpriteFrame, Sprite, resources, Label, Button } from 'cc';\nimport { GlobalFunc } from './GlobalFunc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n/**\n * Predefined variables\n * Name = battlefield\n * DateTime = Sun May 22 2022 23:43:39 GMT+0800 (中国标准时间)\n * Author = fetion\n * FileBasename = battlefield.ts\n * FileBasenameNoExtension = battlefield\n * URL = db://assets/scripts/battlefield.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\nexport var battlefield = (_dec = ccclass('battlefield'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(battlefield, _Component);\n\n  function battlefield() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = battlefield.prototype;\n\n  // [1]\n  // dummy = '';\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.start = function start() {\n    // [3]\n    this.node.getChildByName(\"win\").once(Button.EventType.CLICK, this.winBattle, this);\n    this.initData();\n  };\n\n  _proto.initData = function initData() {\n    var _this = this;\n\n    this.node.getChildByPath(\"brief/hpall\").getComponent(Label).string = String(GlobalFunc.ongoing.herostate[0]);\n    this.node.getChildByPath(\"brief/mpall\").getComponent(Label).string = String(GlobalFunc.ongoing.herostate[1]);\n    this.node.getChildByPath(\"brief/hpcurr\").getComponent(Label).string = String(GlobalFunc.ongoing.herocurrstate[0]);\n    this.node.getChildByPath(\"brief/mpcurr\").getComponent(Label).string = String(GlobalFunc.ongoing.herocurrstate[1]);\n    resources.load(\"battle/briefAvatar/spriteFrame\", SpriteFrame, function (err, spriteFrame) {\n      _this.node.getChildByPath(\"brief/avatar\").getComponent(Sprite).spriteFrame = spriteFrame;\n    });\n  };\n\n  _proto.loseGame = function loseGame() {\n    console.log(\"输了\");\n  };\n\n  _proto.winBattle = function winBattle() {\n    console.log(\"winwinwin要返回了\");\n    console.log(GlobalFunc.ongoing.lastScene);\n    console.log(\"egreen挂了\");\n    director.loadScene(GlobalFunc.ongoing.lastScene);\n  } // update (deltaTime: number) {\n  //     // [4]\n  // }\n  ;\n\n  return battlefield;\n}(Component)) || _class);\n\n_cclegacy._RF.pop();"]}